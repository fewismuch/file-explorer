"use strict";(self.webpackChunk_rainetian_file_explorer=self.webpackChunk_rainetian_file_explorer||[]).push([[479],{99288:function(b,l,e){var f;e.r(l),e.d(l,{demos:function(){return t}});var S=e(90228),D=e.n(S),H=e(87999),Z=e.n(H),s=e(75271),K=e(4969),G=e(73173),M=e(25266),T=e(88309),t={"docs-src-example-demo-base":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,83343))})),asset:{type:"BLOCK",id:"docs-src-example-demo-base",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(3921).Z},"@rainetian/file-explorer":{type:"NPM",value:"0.2.0"},react:{type:"NPM",value:"18.3.1"},"./filesData.ts":{type:"FILE",value:e(18463).Z}},entry:"index.tsx"},context:{"./filesData.ts":G,"@rainetian/file-explorer":K,react:f||(f=e.t(s,2)),"/Users/tianyu/Documents/tianyu/file-explorer/docs-src/example/code/filesData.ts":G},renderOpts:{compile:function(){var N=Z()(D()().mark(function C(){var m,A=arguments;return D()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(135).then(e.bind(e,5135));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,A));case 3:case"end":return r.stop()}},C)}));function E(){return N.apply(this,arguments)}return E}()}},"docs-src-example-demo-icons":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,11363))})),asset:{type:"BLOCK",id:"docs-src-example-demo-icons",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(67402).Z},"@rainetian/file-explorer":{type:"NPM",value:"0.2.0"},react:{type:"NPM",value:"18.3.1"},"./filesData.ts":{type:"FILE",value:e(18463).Z}},entry:"index.tsx"},context:{"./filesData.ts":G,"@rainetian/file-explorer":K,react:f||(f=e.t(s,2)),"/Users/tianyu/Documents/tianyu/file-explorer/docs-src/example/code/filesData.ts":G},renderOpts:{compile:function(){var N=Z()(D()().mark(function C(){var m,A=arguments;return D()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(135).then(e.bind(e,5135));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,A));case 3:case"end":return r.stop()}},C)}));function E(){return N.apply(this,arguments)}return E}()}},"docs-src-example-demo-customtitle":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,12810))})),asset:{type:"BLOCK",id:"docs-src-example-demo-customtitle",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(17478).Z},"@rainetian/file-explorer":{type:"NPM",value:"0.2.0"},react:{type:"NPM",value:"18.3.1"},"./treeData.ts":{type:"FILE",value:e(19184).Z}},entry:"index.tsx"},context:{"./treeData.ts":M,"@rainetian/file-explorer":K,react:f||(f=e.t(s,2)),"/Users/tianyu/Documents/tianyu/file-explorer/docs-src/example/code/treeData.ts":M},renderOpts:{compile:function(){var N=Z()(D()().mark(function C(){var m,A=arguments;return D()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(135).then(e.bind(e,5135));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,A));case 3:case"end":return r.stop()}},C)}));function E(){return N.apply(this,arguments)}return E}()}},"docs-src-example-demo-disableddrag":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,63380))})),asset:{type:"BLOCK",id:"docs-src-example-demo-disableddrag",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(1956).Z},"@rainetian/file-explorer":{type:"NPM",value:"0.2.0"},react:{type:"NPM",value:"18.3.1"},"./treeData.ts":{type:"FILE",value:e(19184).Z}},entry:"index.tsx"},context:{"./treeData.ts":M,"@rainetian/file-explorer":K,react:f||(f=e.t(s,2)),"/Users/tianyu/Documents/tianyu/file-explorer/docs-src/example/code/treeData.ts":M},renderOpts:{compile:function(){var N=Z()(D()().mark(function C(){var m,A=arguments;return D()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(135).then(e.bind(e,5135));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,A));case 3:case"end":return r.stop()}},C)}));function E(){return N.apply(this,arguments)}return E}()}},"docs-src-example-demo-event":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,18947))})),asset:{type:"BLOCK",id:"docs-src-example-demo-event",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(41684).Z},"@rainetian/file-explorer":{type:"NPM",value:"0.2.0"},react:{type:"NPM",value:"18.3.1"},"./treeData.ts":{type:"FILE",value:e(19184).Z}},entry:"index.tsx"},context:{"./treeData.ts":M,"@rainetian/file-explorer":K,react:f||(f=e.t(s,2)),"/Users/tianyu/Documents/tianyu/file-explorer/docs-src/example/code/treeData.ts":M},renderOpts:{compile:function(){var N=Z()(D()().mark(function C(){var m,A=arguments;return D()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(135).then(e.bind(e,5135));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,A));case 3:case"end":return r.stop()}},C)}));function E(){return N.apply(this,arguments)}return E}()}},"docs-src-example-demo-full":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,38906))})),asset:{type:"BLOCK",id:"docs-src-example-demo-full",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(69720).Z},"@rainetian/file-explorer":{type:"NPM",value:"0.2.0"},ahooks:{type:"NPM",value:"3.9.6"},react:{type:"NPM",value:"18.3.1"},"./filesData.ts":{type:"FILE",value:e(18463).Z}},entry:"index.tsx"},context:{"./filesData.ts":G,"@rainetian/file-explorer":K,ahooks:T,react:f||(f=e.t(s,2)),"/Users/tianyu/Documents/tianyu/file-explorer/docs-src/example/code/filesData.ts":G},renderOpts:{compile:function(){var N=Z()(D()().mark(function C(){var m,A=arguments;return D()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(135).then(e.bind(e,5135));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,A));case 3:case"end":return r.stop()}},C)}));function E(){return N.apply(this,arguments)}return E}()}},"docs-src-example-demo-sort":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,47770))})),asset:{type:"BLOCK",id:"docs-src-example-demo-sort",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(63248).Z},"@rainetian/file-explorer":{type:"NPM",value:"0.2.0"},react:{type:"NPM",value:"18.3.1"},"./treeData.ts":{type:"FILE",value:e(19184).Z}},entry:"index.tsx"},context:{"./treeData.ts":M,"@rainetian/file-explorer":K,react:f||(f=e.t(s,2)),"/Users/tianyu/Documents/tianyu/file-explorer/docs-src/example/code/treeData.ts":M},renderOpts:{compile:function(){var N=Z()(D()().mark(function C(){var m,A=arguments;return D()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(135).then(e.bind(e,5135));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,A));case 3:case"end":return r.stop()}},C)}));function E(){return N.apply(this,arguments)}return E}()}},"docs-src-example-demo-actions":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,83147))})),asset:{type:"BLOCK",id:"docs-src-example-demo-actions",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(14673).Z},"@rainetian/file-explorer":{type:"NPM",value:"0.2.0"},react:{type:"NPM",value:"18.3.1"},"./treeData.ts":{type:"FILE",value:e(19184).Z}},entry:"index.tsx"},context:{"./treeData.ts":M,"@rainetian/file-explorer":K,react:f||(f=e.t(s,2)),"/Users/tianyu/Documents/tianyu/file-explorer/docs-src/example/code/treeData.ts":M},renderOpts:{compile:function(){var N=Z()(D()().mark(function C(){var m,A=arguments;return D()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(135).then(e.bind(e,5135));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,A));case 3:case"end":return r.stop()}},C)}));function E(){return N.apply(this,arguments)}return E}()}}}},9377:function(b,l,e){e.r(l),e.d(l,{demos:function(){return S}});var f=e(75271),S={}},73173:function(b,l,e){e.r(l),e.d(l,{filesData:function(){return f}});var f={"/public/index.html":"","/src/App.tsx":"","/src/main.tsx":"","/src/style.css":"","/package.json":"","/tsconfig.json":""}},25266:function(b,l,e){e.r(l),e.d(l,{treeData:function(){return f}});var f=[{id:1,parent:0,droppable:!0,text:"Folder 1"},{id:2,parent:1,droppable:!1,text:"File1"},{id:3,parent:1,droppable:!1,text:"File2"},{id:4,parent:0,droppable:!0,text:"Folder 2"},{id:5,parent:4,droppable:!1,text:"File3"},{id:6,parent:0,droppable:!1,text:"File4"}]},4969:function(b,l,e){e.r(l),e.d(l,{AddFileIcon:function(){return E},AddFolderIcon:function(){return C},CollapseIcon:function(){return Fe},DeleteIcon:function(){return m},EditIcon:function(){return A},FileIcon:function(){return Ae},FolderOpenIcon:function(){return V},Icons:function(){return $},RightIcon:function(){return r},default:function(){return He},fileExplorerUtils:function(){return Be}});var f=e(26068),S=e.n(f),D=e(15558),H=e.n(D),Z=e(48305),s=e.n(Z),K=e(67825),G=e.n(K),M=e(51831),T=e(75271),t=e(52676),N=["style","name"],E=function(){return(0,t.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"file-text",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m320 512V448h64v128h128v64H544v128h-64V640H352v-64z"})})},C=function(){return(0,t.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"file-text",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m384 416V416h64v128h128v64H544v128h-64V608H352v-64z"})})},m=function(){return(0,t.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"delete",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})})},A=function(){return(0,t.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"edit",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"m199.04 672.64 193.984 112 224-387.968-193.92-112-224 388.032zm-23.872 60.16 32.896 148.288 144.896-45.696zM455.04 229.248l193.92 112 56.704-98.112-193.984-112-56.64 98.112zM104.32 708.8l384-665.024 304.768 175.936L409.152 884.8h.064l-248.448 78.336zm384 254.272v-64h448v64h-448z"})})},V=function(){return(0,t.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"file-text",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896"})})},r=function(){return(0,t.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"right",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})})},Ae=function(){return(0,t.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"file-text",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})})},je=function(){return(0,t.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"file-text",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32"})})},Fe=function(){return(0,t.jsx)("svg",{viewBox:"0 0 1024 1024",focusable:"false",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M474.88 680.96c20.48-20.48 53.76-20.48 74.24 0l254.6688 253.5936c20.5312 20.48 20.5312 53.6064 0 74.0864-20.48 20.48-53.76 20.48-74.24 0L512 792.1152l-217.5488 216.576c-20.48 20.4288-53.76 20.4288-74.24 0-20.5312-20.48-20.5312-53.7088 0-74.1376zM294.4 15.36L512 231.8848l217.5488-216.576c20.48-20.4288 53.76-20.4288 74.24 0 20.5312 20.48 20.5312 53.7088 0 74.1376L549.12 343.04c-20.48 20.48-53.76 20.48-74.24 0L220.16 89.4464C199.68 68.9664 199.68 35.84 220.16 15.36c20.48-20.48 53.76-20.48 74.24 0z"})})},Oe={file:(0,t.jsx)(Ae,{}),folder:(0,t.jsx)(je,{}),addFile:(0,t.jsx)(E,{}),addFolder:(0,t.jsx)(C,{}),delete:(0,t.jsx)(m,{}),edit:(0,t.jsx)(A,{}),folderOpen:(0,t.jsx)(V,{}),right:(0,t.jsx)(r,{}),collapse:(0,t.jsx)(Fe,{})},$=function(n){var d=n.style,h=n.name,c=G()(n,N);return(0,t.jsx)("span",S()(S()({},c),{},{style:S()({display:"flex",alignItems:"center"},d),children:Oe[h]}))},be=function(n){var d=n.text,h=n.onChange,c=n.onCancel,o=(0,T.useRef)(null),g=(0,T.useState)(d),u=s()(g,2),F=u[0],w=u[1],B=function(R){w(R.target.value)},L=function(){if(F===""&&d===""){c(!0);return}if(F===d||F.trim()===""){c();return}h(F,d==="")},J=function(){if(d===""||d===void 0){c(!0);return}w(d),c()},Q=function(R){R.key==="Enter"?(R.preventDefault(),L()):R.key==="Escape"&&(R.preventDefault(),J())};return(0,T.useEffect)(function(){var y;o==null||(y=o.current)===null||y===void 0||y.focus()},[]),(0,t.jsx)("div",{className:"file-explorer__inputWrapper file-explorer__node-actions",onClick:function(R){return R.stopPropagation()},children:(0,t.jsx)("input",{ref:o,value:F,onChange:B,onBlur:L,onKeyDown:Q})})};function Me(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(v){var n=Math.random()*16|0,d=v==="x"?n:n&3|8;return d.toString(16)}).replace(/-/g,"")}var Se=function(n,d){var h;return n.forEach(function(c){var o=d.find(function(g){return g.id===c.id});if(c.parent!==(o==null?void 0:o.parent))return h=c,null}),h};function Te(v){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=[],h={};for(var c in v){for(var o,g=c.startsWith("/")?c.slice(1).split("/"):c.split("/"),u=n,F=0;F<g.length-1;F++){var w=g.slice(0,F+1).join("/");if(!h[w]){var B=d.length+1;h[w]=B,d.push({id:B,parent:u,droppable:!0,text:g[F]})}u=h[w]}var L=g.pop(),J=d.length+1;d.push({id:J,parent:u,droppable:((o=v[c])===null||o===void 0?void 0:o.code)==="//#folder#//",text:L,content:v[c]})}return d}function Ne(v){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d={};return v.forEach(function(h){if(!h.droppable){for(var c="",o=h.parent;o!==n;){var g=v.find(function(u){return u.id===o});c=g.text+"/"+c,o=g.parent}c===""?c=h.text:c+=h.text,d[c]=h.content}}),d}var ne="_draft_id_",Re={md:"markdown",js:"javascript",ts:"typescript",tsx:"typescript",jsx:"javascript",css:"css3",html:"html-5",jpeg:"jpg",docx:"doc",xlsx:"xls",pptx:"ppt",mp4:"video",webp:"image",vue:"file"},Le=["txt","json","xml","csv","vue","png","jpg","jpeg","gif","mp3","avi","pdf","zip","rar"],Pe=function(n){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=d.style,c=h===void 0?"color":h,o=d.size,g=o===void 0?48:o,u=d.color,F=u===void 0?"000000":u;if(!n||!Re[n]&&!Le.includes(n))return"";var w=Re[n]||n;return"https://img.icons8.com/".concat(c,"/").concat(g,"/").concat(F,"/").concat(w,".png")},Ue=function(n){var d=n.dragOverAutoExpand,h=n.clickRowAutoExpand,c=n.isSelected,o=n.isOpen,g=o===void 0?!1:o,u=n.showActions,F=u===void 0?!0:u,w=n.titleRender,B=n.switcherIcon,L=n.fileIcon,J=n.actions,Q=n.node,y=Q.id,R=Q.droppable,W=Q.text,ae=(0,T.useState)(!1),le=s()(ae,2),ie=le[0],Y=le[1],he=n.depth*24,ge=(0,T.useState)(!1),de=s()(ge,2),se=de[0],ce=de[1],_=ie||W==="",ue=function(p){p.stopPropagation(),n.onToggle(y)},Ie=(0,M.t0)(y,g,n.onToggle),pe=d?Ie:{},ee=function(p){p.stopPropagation(),Y(!0)},te=function(p){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Y(!1),P){n.onTextChange("_draft_id_",p);return}n.onTextChange(y,p)},ye=function(){var p,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;P&&n.onRemove(y,!0),Y(!1),(p=n.onCancelInput)===null||p===void 0||p.call(n)},fe=function(p){p.stopPropagation(),n.onCreate({id:ne,text:"",parent:y,droppable:!1},!0)},re=function(p){p.stopPropagation(),n.onCreate({id:ne,text:"",parent:y,droppable:!0},!0)},me=function(p){var P;h&&ue(p),(P=n.onSelect)===null||P===void 0||P.call(n,n.node)},De=function(p){p.stopPropagation(),n.onRemove(y)},xe=function(p){var P=p.name,oe=p.node;if(typeof L=="boolean"&&!L)return(0,t.jsx)("div",{style:{marginLeft:-4}});if(L===void 0||L===!0)return(0,t.jsx)("div",{className:"file-explorer__node-icon","data-name":P,children:R?(0,t.jsx)($,{name:g?"folderOpen":"folder"}):(0,t.jsx)($,{name:"file"})});var Ce=L("folderOpen",oe)||(0,t.jsx)($,{name:"folderOpen"}),O=L("folder",oe)||(0,t.jsx)($,{name:"folder"}),i=L((P==null?void 0:P.split(".").pop())||"file",oe)||(0,t.jsx)($,{name:"file"});return(0,t.jsx)("div",{className:"file-explorer__node-icon","data-name":P,children:R?g?Ce:O:i})},k={addFile:(0,t.jsx)("span",{onClick:fe,title:"Add file",children:(0,t.jsx)($,{name:"addFile"})}),addFolder:(0,t.jsx)("span",{onClick:re,title:"Add folder",children:(0,t.jsx)($,{name:"addFolder"})}),remove:(0,t.jsx)("span",{onClick:De,title:"Remove",children:(0,t.jsx)($,{name:"delete"})}),edit:(0,t.jsx)("span",{onClick:ee,title:"Edit",children:(0,t.jsx)($,{name:"edit"})})},ve=function(){return(0,t.jsxs)("div",{className:"file-explorer__node-actions",children:[R?(0,t.jsxs)(t.Fragment,{children:[k.addFile,k.addFolder]}):null,k.remove,k.edit]})},Ee=function(){var p=B&&typeof B=="function";return(0,t.jsx)("div",{className:"file-explorer__node-expand-icon-wrapper ".concat(R?"":"disabled"),onClick:ue,children:R&&(p?B(g):(0,t.jsx)("div",{className:"file-explorer__node-expand-icon ".concat(g?"isOpen":""),children:B||(0,t.jsx)($,{name:"right",style:{fontSize:12}})}))})};return(0,T.useEffect)(function(){Y(n.showInput||!1)},[n.showInput]),(0,t.jsxs)("div",S()(S()({className:"file-explorer__node ".concat(se?"file-explorer__node--hover":""," ").concat(c?"file-explorer__node--selected":""),style:{paddingInlineStart:he}},pe),{},{onMouseEnter:function(){return ce(!0)},onMouseLeave:function(){return ce(!1)},onClick:me,children:[Ee(),xe({name:W,node:n.node}),(0,t.jsxs)("div",{className:"file-explorer__node-content",children:[_?(0,t.jsx)(be,{text:W,onChange:te,onCancel:ye}):(0,t.jsx)("span",{className:"file-explorer__node-text",children:w?w(n.node):W}),se&&!_&&F?J?(0,t.jsx)("div",{className:"file-explorer__node-actions",onClick:function(p){return p.stopPropagation()},children:J(n.node,{remove:k.remove,edit:k.edit})}):ve():null]})]}))},we=function(n){var d=(n.depth+1)*24;return(0,t.jsx)("div",{className:"file-explorer__placeholder",style:{left:d}})},ze=["fileExplorerRef","rootId","data","onDrop","onChange","onSelect","dragOverAutoExpand","clickRowAutoExpand","enableSelect","enableSort","showActions","allowRepeatText","titleRender","actions","switcherIcon","fileIcon","theme","selectedId"],$e=function(n){var d=(0,T.useRef)(null),h=n.fileExplorerRef,c=n.rootId,o=n.data,g=n.onDrop,u=n.onChange,F=n.onSelect,w=n.dragOverAutoExpand,B=w===void 0?!1:w,L=n.clickRowAutoExpand,J=L===void 0?!0:L,Q=n.enableSelect,y=Q===void 0?!0:Q,R=n.enableSort,W=R===void 0?!0:R,ae=n.showActions,le=ae===void 0?!1:ae,ie=n.allowRepeatText,Y=ie===void 0?!0:ie,he=n.titleRender,ge=n.actions,de=n.switcherIcon,se=n.fileIcon,ce=n.theme,_=n.selectedId,ue=G()(n,ze),Ie=(0,T.useState)(o),pe=s()(Ie,2),ee=pe[0],te=pe[1],ye=(0,T.useState)(),fe=s()(ye,2),re=fe[0],me=fe[1],De=(0,T.useState)(null),xe=s()(De,2),k=xe[0],ve=xe[1],Ee=function(i,x){g==null||g(i,x);var a=Se(o,i),I=Se(i,o);if(!Y){if(!I){u==null||u(i,{action:"sort",oldTree:H()(o),oldNode:a});return}var X=o.find(function(U){return U.parent===(I==null?void 0:I.parent)&&U.text===a.text&&U.droppable===a.droppable});if(X)return}u==null||u(i,{action:"drop",oldTree:H()(o),oldNode:a,newNode:I})},j=function(i,x){var a=[i].concat(H()((0,M.mD)(o,i).map(function(U){return U.id}))),I=o.filter(function(U){return!a.includes(U.id)});if(x){te(I);return}var X=o.find(function(U){return U.id===i});u==null||u(I,{action:"remove",oldTree:H()(o),oldNode:X})},p=function(i,x){var a;(a=d.current)===null||a===void 0||a.open(i.parent);var I=[].concat(H()(o),[i]);if(x){te(I);return}if(!Y){var X=o.find(function(q){return q.parent===i.parent&&q.text===i.text&&q.droppable===i.droppable});if(X){j(i.id,!0);return}}var U=S()(S()({},i),{},{id:Me()});I=[].concat(H()(o),[U]),u==null||u(I,{action:"create",oldTree:H()(o),newNode:U})},P=function(i,x){if(i===ne){var a=ee.find(function(z){return z.id===i});p(S()(S()({},a),{},{id:"",text:x}));return}if(!Y){var I=o.find(function(z){return z.id===i}),X=o.find(function(z){return z.parent===I.parent&&z.text===x&&z.droppable===I.droppable});if(X)return}var U,q,Ze=o.map(function(z){return z.id===i?(U=z,q=S()(S()({},z),{},{text:x}),q):z});u==null||u(Ze,{action:"update",oldTree:H()(o),oldNode:U,newNode:q})},oe=function(i){y&&(me(i),F==null||F(i))},Ce=function(){ve(null)};return(0,T.useImperativeHandle)(h,function(){var O,i;return{addFile:function(a){return p({id:ne,text:"",parent:a!=null?a:c,droppable:!1},!0)},addFolder:function(a){return p({id:ne,text:"",parent:a!=null?a:c,droppable:!0},!0)},remove:function(a){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return j(a,I)},edit:function(a){ve(a)},getFiles:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Ne(ee,a)},getData:function(){return ee},openAll:function(){var a;return(a=d.current)===null||a===void 0?void 0:a.openAll()},closeAll:function(){var a;return(a=d.current)===null||a===void 0?void 0:a.closeAll()},open:(O=d.current)===null||O===void 0?void 0:O.open,close:(i=d.current)===null||i===void 0?void 0:i.close}}),(0,T.useEffect)(function(){te(o)},[o]),(0,T.useEffect)(function(){if(o&&_!==void 0){var O=o.find(function(i){return i.id===_});O&&y&&me(O)}},[_]),(0,t.jsx)("div",{"data-id":"file-explorer","data-theme":ce,children:(0,t.jsx)(M.WG,{backend:M.PD,context:window,children:(0,t.jsx)(M.mp,S()(S()({ref:d,tree:ee,rootId:c,render:function(i,x){var a=x.depth,I=x.isOpen,X=x.onToggle;return(0,t.jsx)(Ue,{node:i,depth:a,isOpen:I,switcherIcon:de,isSelected:i.id===(re==null?void 0:re.id),onToggle:X,onSelect:oe,onRemove:j,onTextChange:P,onCreate:p,onCancelInput:Ce,dragOverAutoExpand:B,clickRowAutoExpand:J,titleRender:he,showActions:le,showInput:i.id===k,actions:ge,fileIcon:se})},onDrop:Ee,classes:{root:"file-explorer",draggingSource:W?"file-explorer__draggingSource":"",dropTarget:W?"file-explorer__dropTarget":"",placeholder:W?"":"file-explorer__placeholderContainer"}},W?void 0:{sort:W,insertDroppableFirst:!1,dropTargetOffset:5,placeholderRender:function(i,x){var a=x.depth;return(0,t.jsx)(we,{depth:a})},canDrop:function(i,x){var a=x.dragSource,I=x.dropTargetId;if((a==null?void 0:a.parent)===I)return!0}}),ue))})})},Be={files2tree:Te,tree2files:Ne,getFileIcon8Url:Pe},He=$e},79312:function(b,l,e){e.r(l),e.d(l,{texts:function(){return f}});const f=[{value:"\u4E00\u4E2A\u6811\u5F62\u6587\u4EF6\u6D4F\u89C8\u5668\u7EC4\u4EF6\uFF0C\u53EF\u62D6\u62FD\u53EF\u7F16\u8F91",paraId:0,tocIndex:0},{value:"\u7EC4\u4EF6\u6570\u636E\u683C\u5F0F\u4E3A:",paraId:1},{value:`const treeData = [
  {
    id: 1,
    parent: 0,
    droppable: true,
    text: 'Folder 1',
  },
  {
    id: 2,
    parent: 1,
    droppable: false,
    text: 'File1-1',
  },
]
`,paraId:2},{value:"\u5982\u679C\u662F\u6587\u4EF6\u5939\u5BF9\u8C61\u683C\u5F0F\uFF08\u5982\u4E0B\u793A\u4F8B\uFF09\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",paraId:3},{value:"fileExplorerUtils.files2tree(treeData)",paraId:3},{value:" \u8F6C\u6362",paraId:3},{value:`const filesData = {
  '/public/index.html': '',
  '/src/App.tsx': '',
  '/src/main.tsx': '',
  '/src/style.css': '',
  '/package.json': '',
  '/tsconfig.json': '',
}
`,paraId:4},{value:"fileExplorerUtils",paraId:5},{value:" \u8FD8\u63D0\u4F9B\u4E86\u6811\u5F62\u6570\u636E\u548C\u6587\u4EF6\u5BF9\u8C61\u7684\u76F8\u4E92\u8F6C\u6362\u65B9\u6CD5\uFF0C",paraId:5},{value:"fileExplorerUtils.tree2files(filesData)",paraId:5},{value:"\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u9009\u62E9\u4F7F\u7528\uFF0C\u4E0B\u9762\u793A\u4F8B\u4F7F\u7528tree\u683C\u5F0F\u6570\u636E",paraId:6}]},95967:function(b,l,e){e.r(l),e.d(l,{texts:function(){return f}});const f=[{value:"index",paraId:0}]},14673:function(b,l){l.Z=`import FileExplorer, { INode } from '@rainetian/file-explorer'
import React, { useState } from 'react'

import { treeData } from './treeData'

const App = () => {
  const [data, setData] = useState<INode[]>(treeData)

  const handleChange = (newData: INode[]) => {
    setData(newData)
  }

  return (
    <div style={{ width: 250, border: '1px solid #ccc', padding: 12 }}>
      <FileExplorer
        data={data}
        rootId={0}
        onChange={handleChange}
        initialOpen
        showActions
        actions={(node: INode, { remove, edit }) => (
          <>
            {remove}
            <button onClick={() => alert('remove')}>x</button>
            {edit}
          </>
        )}
      />
    </div>
  )
}
export default App
`},3921:function(b,l){l.Z=`import FileExplorer, { INode, fileExplorerUtils } from '@rainetian/file-explorer'
import React, { useState } from 'react'

import { filesData } from './filesData'

const App = () => {
  const [data, setData] = useState<INode[]>(fileExplorerUtils.files2tree(filesData))

  const handleChange = (newData: INode[]) => {
    setData(newData)
  }

  return (
    <div style={{ width: 250, border: '1px solid #ccc', padding: 12 }}>
      <FileExplorer data={data} rootId={0} onChange={handleChange} initialOpen />
    </div>
  )
}
export default App
`},17478:function(b,l){l.Z=`import FileExplorer, { INode } from '@rainetian/file-explorer'
import React from 'react'

import { treeData } from './treeData'

const App = () => {
  const Title = ({ node }: { node: INode }) => {
    return <span style={{ color: 'blue' }}>#{node.text}\u{1F60E}</span>
  }

  return (
    <FileExplorer
      data={treeData}
      rootId={0}
      titleRender={(node: INode) => <Title node={node} />}
      switcherIcon={<span>\u25B6\uFE0F</span>}
      fileIcon={false}
    />
  )
}
export default App
`},1956:function(b,l){l.Z=`import FileExplorer from '@rainetian/file-explorer'
import React from 'react'

import { treeData } from './treeData'

const App = () => {
  return (
    <FileExplorer
      data={treeData}
      rootId={0}
      canDrag={() => false}
      initialOpen
      enableSelect={false}
    />
  )
}
export default App
`},41684:function(b,l){l.Z=`import FileExplorer, { IFileExplorerMethods, INode } from '@rainetian/file-explorer'
import { IFileExplorerChangeParams } from 'file-explorer/dist'
import React, { useRef, useState } from 'react'

import { treeData } from './treeData'

const App = () => {
  const fileExplorerRef = useRef<IFileExplorerMethods>(null)
  const [data, setData] = useState<INode[]>(treeData)

  const handleChange = (
    newTree: INode[],
    { action, oldTree, oldNode, newNode }: IFileExplorerChangeParams
  ) => {
    console.log(action, oldTree, oldNode, newNode)
    setData(newTree)
  }

  return (
    <>
      <div style={{ display: 'flex', gap: 8, marginBottom: 8, flexWrap: 'wrap' }}>
        <button onClick={() => fileExplorerRef.current?.addFile()}>add file</button>
        <button onClick={() => fileExplorerRef.current?.addFolder()}>add folder</button>
        <button onClick={() => fileExplorerRef.current?.addFile(1)}>add file in Folder1</button>
        <button onClick={() => fileExplorerRef.current?.closeAll()}>closeAll</button>
        <button onClick={() => fileExplorerRef.current?.openAll()}>openAll</button>
        <button onClick={() => console.log(fileExplorerRef.current?.getFiles())}>getFiles</button>
        <button onClick={() => console.log(fileExplorerRef.current?.getData())}>getData</button>
        <button onClick={() => fileExplorerRef.current?.edit(2)}>edit File1</button>
        <button onClick={() => fileExplorerRef.current?.remove(3, false)}>remove File2</button>
        <button onClick={() => fileExplorerRef.current?.open(1)}>open Folder1</button>
        <button onClick={() => fileExplorerRef.current?.close(1)}>close Folder1</button>
      </div>
      <div style={{ width: 300, border: '1px solid #ccc', padding: 12 }}>
        <FileExplorer
          fileExplorerRef={fileExplorerRef}
          data={data}
          onChange={handleChange}
          onSelect={(node: INode) => console.log(node)}
          rootId={0}
          showActions
          initialOpen
        />
      </div>
    </>
  )
}

export default App
`},18463:function(b,l){l.Z=`export const filesData = {
  '/public/index.html': '',
  '/src/App.tsx': '',
  '/src/main.tsx': '',
  '/src/style.css': '',
  '/package.json': '',
  '/tsconfig.json': '',
}
`},69720:function(b,l){l.Z=`import FileExplorer, { fileExplorerUtils, INode } from '@rainetian/file-explorer'
import { useSetState } from 'ahooks'
import React, { useState } from 'react'

import { filesData } from './filesData'

const App = () => {
  const [data, setData] = useState<INode[]>(fileExplorerUtils.files2tree(filesData))
  const [selectedNode, setSelectedNode] = useState<INode | null>(null)

  const [options, setOptions] = useSetState<any>({
    initialOpen: false,
    clickRowAutoExpand: true,
    dragOverAutoExpand: false,
    enableSelect: true,
    showActions: true,
    fileIcon: true,
    allowRepeatText: false,
  })

  const handleChange = (newData: INode[]) => {
    setData(newData)
  }

  const fileIcon = (fileSuffix: string) => {
    const iconMap: Record<string, string> = {
      js: 'https://img.icons8.com/color/48/000000/javascript.png',
      css: 'https://img.icons8.com/color/48/000000/css3.png',
      html: 'https://img.icons8.com/color/48/000000/html-5.png',
      json: 'https://img.icons8.com/color/48/000000/json.png',
      tsx: 'https://img.icons8.com/color/48/000000/typescript.png',
    }
    const iconSrc = iconMap[fileSuffix]
    return iconSrc ? <img src={iconSrc} /> : null
  }

  return (
    <>
      <div style={{ display: 'flex' }}>
        <div style={{ width: 250, border: '1px solid #ccc', padding: 12, flexShrink: 0 }}>
          <FileExplorer
            data={data}
            rootId={0}
            onChange={handleChange}
            onSelect={(node: INode) => setSelectedNode(node)}
            {...options}
          />
        </div>
        <div style={{ border: '1px solid #ccc', padding: 12, width: '100%' }}>
          <p>
            \u9ED8\u8BA4\u5168\u90E8\u5C55\u5F00\uFF1A
            <label>
              <input
                type='checkbox'
                checked={options.initialOpen}
                onChange={(e) =>
                  setOptions({
                    initialOpen: e.target.checked,
                  })
                }
              />
              initialOpen
            </label>
          </p>

          <p>
            \u70B9\u51FB\u884C\u65F6\u662F\u5426\u81EA\u52A8\u5C55\u5F00\uFF1A
            <label>
              <input
                type='checkbox'
                checked={options.clickRowAutoExpand}
                onChange={(e) =>
                  setOptions({
                    clickRowAutoExpand: e.target.checked,
                  })
                }
              />
              clickRowAutoExpand
            </label>
          </p>

          <p>
            \u62D6\u62FD\u5230\u6587\u4EF6\u5939\u4E0A\u662F\u5426\u81EA\u52A8\u5C55\u5F00\uFF1A
            <label>
              <input
                type='checkbox'
                checked={options.dragOverAutoExpand}
                onChange={(e) =>
                  setOptions({
                    dragOverAutoExpand: e.target.checked,
                  })
                }
              />
              dragOverAutoExpand
            </label>
          </p>

          <p>
            \u662F\u5426\u5141\u8BB8\u9009\u4E2D\uFF1A
            <label>
              <input
                type='checkbox'
                checked={options.enableSelect}
                onChange={(e) =>
                  setOptions({
                    enableSelect: e.target.checked,
                  })
                }
              />
              enableSelect
            </label>
          </p>

          <p>
            \u662F\u5426\u5C55\u793A\u64CD\u4F5C\u6309\u94AE\uFF1A
            <label>
              <input
                type='checkbox'
                checked={options.showActions}
                onChange={(e) =>
                  setOptions({
                    showActions: e.target.checked,
                  })
                }
              />
              showActions
            </label>
          </p>

          <p>
            \u662F\u5426\u5C55\u793A\u64CD\u4F5C\u6309\u94AE\uFF1A
            <label>
              <input
                type='checkbox'
                checked={typeof options.fileIcon === 'boolean' && options.fileIcon}
                onChange={(e) =>
                  setOptions({
                    fileIcon: e.target.checked,
                  })
                }
              />
              fileIcon
            </label>
          </p>

          <p>
            \u9009\u4E2D\u7684\u8282\u70B9\uFF1A
            {JSON.stringify(selectedNode || '')}
          </p>

          <p>
            \u662F\u5426\u5141\u8BB8\u91CD\u590D\u540D\u79F0\uFF1A
            <label>
              <input
                type='checkbox'
                checked={options.allowRepeatText}
                onChange={(e) =>
                  setOptions({
                    allowRepeatText: e.target.checked,
                  })
                }
              />
              allowRepeatText
            </label>
          </p>

          <p>
            \u81EA\u5B9A\u4E49\u6587\u4EF6\u56FE\u6807\uFF1A
            <label>
              <input
                type='checkbox'
                checked={typeof options.fileIcon === 'function'}
                onChange={(e) => {
                  if (e.target.checked) {
                    console.log(typeof fileIcon)
                    setOptions({
                      fileIcon,
                    })
                  } else {
                    setOptions({
                      fileIcon: true,
                    })
                  }
                }}
              />
              \u56FE\u6807
            </label>
          </p>
        </div>
      </div>
    </>
  )
}
export default App
`},67402:function(b,l){l.Z=`import FileExplorer, { INode, fileExplorerUtils } from '@rainetian/file-explorer'
import React, { useState } from 'react'

import { filesData } from './filesData'

const App = () => {
  const [data, setData] = useState<INode[]>(fileExplorerUtils.files2tree(filesData))

  const handleChange = (newData: INode[]) => {
    setData(newData)
  }

  const fileIcon = (fileSuffix: string) => {
    // \u63D0\u4F9B\u4E86\u4E00\u4E2A\u83B7\u53D6icon8 \u56FE\u6807url\u7684\u65B9\u6CD5\uFF0C\u53EF\u6839\u636E\u6587\u4EF6\u540E\u7F00\u81EA\u5B9A\u4E49\u56FE\u6807
    const iconSrc = fileExplorerUtils.getFileIcon8Url(fileSuffix)
    return iconSrc ? <img src={iconSrc} /> : null
  }

  return (
    <div style={{ width: 250, border: '1px solid #ccc', padding: 12 }}>
      <FileExplorer
        data={data}
        rootId={0}
        onChange={handleChange}
        initialOpen
        fileIcon={fileIcon}
      />
    </div>
  )
}
export default App
`},63248:function(b,l){l.Z=`import FileExplorer, { INode } from '@rainetian/file-explorer'
import React, { useState } from 'react'

import { treeData } from './treeData'

const App = () => {
  const [data, setData] = useState<INode[]>(treeData)

  const handleChange = (newData: INode[], { action }) => {
    console.log(action)
    setData(newData)
  }

  return (
    <div style={{ width: 250, border: '1px solid #ccc', padding: 12 }}>
      <FileExplorer
        data={data}
        rootId={0}
        onChange={handleChange}
        initialOpen
        enableSort={false}
        allowRepeatText={false}
      />
    </div>
  )
}
export default App
`},19184:function(b,l){l.Z=`export const treeData = [
  {
    id: 1,
    parent: 0,
    droppable: true,
    text: 'Folder 1',
  },
  {
    id: 2,
    parent: 1,
    droppable: false,
    text: 'File1',
  },
  {
    id: 3,
    parent: 1,
    droppable: false,
    text: 'File2',
  },
  {
    id: 4,
    parent: 0,
    droppable: true,
    text: 'Folder 2',
  },
  {
    id: 5,
    parent: 4,
    droppable: false,
    text: 'File3',
  },
  {
    id: 6,
    parent: 0,
    droppable: false,
    text: 'File4',
  },
]
`}}]);
