(self.webpackChunk_rainetian_file_explorer=self.webpackChunk_rainetian_file_explorer||[]).push([[381],{69225:function(O,T,p){"use strict";p.d(T,{Z:function(){return B}});var D=p(99938),l=p(50959),I=function(P){return P!==null&&typeof P=="object"},m=function(P){return typeof P=="function"},R=function(P){return typeof P=="string"},w=function(P){return typeof P=="boolean"},x=function(P){return typeof P=="number"},k=function(P){return typeof P=="undefined"},G=function(P){var Y=(0,D.CR)((0,l.useState)(P),2),_=Y[0],b=Y[1],L=(0,l.useCallback)(function(H){b(function($){var j=m(H)?H($):H;return j?(0,D.pi)((0,D.pi)({},$),j):$})},[]);return[_,L]},B=G},3341:function(O){"use strict";O.exports=function T(p,D){if(p===D)return!0;if(p&&D&&typeof p=="object"&&typeof D=="object"){if(p.constructor!==D.constructor)return!1;var l,I,m;if(Array.isArray(p)){if(l=p.length,l!=D.length)return!1;for(I=l;I--!==0;)if(!T(p[I],D[I]))return!1;return!0}if(p.constructor===RegExp)return p.source===D.source&&p.flags===D.flags;if(p.valueOf!==Object.prototype.valueOf)return p.valueOf()===D.valueOf();if(p.toString!==Object.prototype.toString)return p.toString()===D.toString();if(m=Object.keys(p),l=m.length,l!==Object.keys(D).length)return!1;for(I=l;I--!==0;)if(!Object.prototype.hasOwnProperty.call(D,m[I]))return!1;for(I=l;I--!==0;){var R=m[I];if(!T(p[R],D[R]))return!1}return!0}return p!==p&&D!==D}},14224:function(O){var T=O.exports={},p,D;function l(){throw new Error("setTimeout has not been defined")}function I(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?p=setTimeout:p=l}catch(b){p=l}try{typeof clearTimeout=="function"?D=clearTimeout:D=I}catch(b){D=I}})();function m(b){if(p===setTimeout)return setTimeout(b,0);if((p===l||!p)&&setTimeout)return p=setTimeout,setTimeout(b,0);try{return p(b,0)}catch(L){try{return p.call(null,b,0)}catch(H){return p.call(this,b,0)}}}function R(b){if(D===clearTimeout)return clearTimeout(b);if((D===I||!D)&&clearTimeout)return D=clearTimeout,clearTimeout(b);try{return D(b)}catch(L){try{return D.call(null,b)}catch(H){return D.call(this,b)}}}var w=[],x=!1,k,G=-1;function B(){!x||!k||(x=!1,k.length?w=k.concat(w):G=-1,w.length&&P())}function P(){if(!x){var b=m(B);x=!0;for(var L=w.length;L;){for(k=w,w=[];++G<L;)k&&k[G].run();G=-1,L=w.length}k=null,x=!1,R(b)}}T.nextTick=function(b){var L=new Array(arguments.length-1);if(arguments.length>1)for(var H=1;H<arguments.length;H++)L[H-1]=arguments[H];w.push(new Y(b,L)),w.length===1&&!x&&m(P)};function Y(b,L){this.fun=b,this.array=L}Y.prototype.run=function(){this.fun.apply(null,this.array)},T.title="browser",T.browser=!0,T.env={},T.argv=[],T.version="",T.versions={};function _(){}T.on=_,T.addListener=_,T.once=_,T.off=_,T.removeListener=_,T.removeAllListeners=_,T.emit=_,T.prependListener=_,T.prependOnceListener=_,T.listeners=function(b){return[]},T.binding=function(b){throw new Error("process.binding is not supported")},T.cwd=function(){return"/"},T.chdir=function(b){throw new Error("process.chdir is not supported")},T.umask=function(){return 0}},38498:function(O,T,p){var D=p(78770);function l(I){if(Array.isArray(I))return D(I)}O.exports=l,O.exports.__esModule=!0,O.exports.default=O.exports},20698:function(O){function T(p){if(typeof Symbol!="undefined"&&p[Symbol.iterator]!=null||p["@@iterator"]!=null)return Array.from(p)}O.exports=T,O.exports.__esModule=!0,O.exports.default=O.exports},91162:function(O){function T(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}O.exports=T,O.exports.__esModule=!0,O.exports.default=O.exports},67825:function(O,T,p){var D=p(64382);function l(I,m){if(I==null)return{};var R=D(I,m),w,x;if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(I);for(x=0;x<k.length;x++)w=k[x],!(m.indexOf(w)>=0)&&Object.prototype.propertyIsEnumerable.call(I,w)&&(R[w]=I[w])}return R}O.exports=l,O.exports.__esModule=!0,O.exports.default=O.exports},64382:function(O){function T(p,D){if(p==null)return{};var l={},I=Object.keys(p),m,R;for(R=0;R<I.length;R++)m=I[R],!(D.indexOf(m)>=0)&&(l[m]=p[m]);return l}O.exports=T,O.exports.__esModule=!0,O.exports.default=O.exports},15558:function(O,T,p){var D=p(38498),l=p(20698),I=p(31479),m=p(91162);function R(w){return D(w)||l(w)||I(w)||m()}O.exports=R,O.exports.__esModule=!0,O.exports.default=O.exports},28724:function(O,T,p){"use strict";p.d(T,{WG:function(){return Zn},PD:function(){return Pr},mp:function(){return ni},mD:function(){return Kt},t0:function(){return ar}});var D={};p.r(D),p.d(D,{FILE:function(){return $e},HTML:function(){return Ze},TEXT:function(){return Ke},URL:function(){return Qe}});var l=p(50959),I=p(14224);function m(t,e,...r){if(R()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(e.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function R(){return typeof I!="undefined"&&!0}var w=(0,l.createContext)({dragDropManager:void 0});function x(){var t=(0,l.useContext)(w),e=t.dragDropManager;return m(e!=null,"Expected drag drop context"),e}var k=p(48305),G=p(3341),B=typeof window!="undefined"?l.useLayoutEffect:l.useEffect;function P(t,e,r){var n=(0,l.useState)(function(){return e(t)}),i=k(n,2),a=i[0],u=i[1],o=(0,l.useCallback)(function(){var s=e(t);G(a,s)||(u(s),r&&r())},[a,t,r]);return B(o),[a,o]}function Y(t,e,r){var n=P(t,e,r),i=k(n,2),a=i[0],u=i[1];return B(function(){var s=t.getHandlerId();if(s!=null)return t.subscribeToStateChange(u,{handlerIds:[s]})},[t,u]),a}function _(t,e,r){return Y(e,t||function(){return{}},function(){return r.reconnect()})}var b=p(15558);function L(t,e){var r=b(e||[]);return e==null&&typeof t!="function"&&r.push(t),(0,l.useMemo)(function(){return typeof t=="function"?t():t},r)}function H(t){return(0,l.useMemo)(function(){return t.hooks.dragSource()},[t])}function $(t){return(0,l.useMemo)(function(){return t.hooks.dragPreview()},[t])}var j=p(25298),W=p(17069);function ge(t,e,r,n){let i=r?r.call(n,t,e):void 0;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const a=Object.keys(t),u=Object.keys(e);if(a.length!==u.length)return!1;const o=Object.prototype.hasOwnProperty.bind(e);for(let s=0;s<a.length;s++){const c=a[s];if(!o(c))return!1;const f=t[c],d=e[c];if(i=r?r.call(n,f,d,c):void 0,i===!1||i===void 0&&f!==d)return!1}return!0}var te=p(31759);function he(t){return t!==null&&te(t)==="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Tt(t){if(typeof t.type!="string"){var e=t.type.displayName||t.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(e," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function Ot(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!(0,l.isValidElement)(e)){var n=e;return t(n,r),n}var i=e;Tt(i);var a=r?function(u){return t(u,r)}:t;return St(i,a)}}function Ae(t){var e={};return Object.keys(t).forEach(function(r){var n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{var i=Ot(n);e[r]=function(){return i}}}),e}function Le(t,e){typeof t=="function"?t(e):t.current=e}function St(t,e){var r=t.ref;return m(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?(0,l.cloneElement)(t,{ref:function(i){Le(r,i),Le(e,i)}}):(0,l.cloneElement)(t,{ref:e})}var It=function(){function t(e){var r=this;j(this,t),this.hooks=Ae({dragSource:function(i,a){r.clearDragSource(),r.dragSourceOptions=a||null,he(i)?r.dragSourceRef=i:r.dragSourceNode=i,r.reconnectDragSource()},dragPreview:function(i,a){r.clearDragPreview(),r.dragPreviewOptions=a||null,he(i)?r.dragPreviewRef=i:r.dragPreviewNode=i,r.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}return W(t,[{key:"receiveHandlerId",value:function(r){this.handlerId!==r&&(this.handlerId=r,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(r){this.dragSourceOptionsInternal=r}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(r){this.dragPreviewOptionsInternal=r}},{key:"reconnect",value:function(){var r=this.reconnectDragSource();this.reconnectDragPreview(r)}},{key:"reconnectDragSource",value:function(){var r=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?r?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=r,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,r,this.dragSourceOptions)),n):(this.lastConnectedDragSource=r,n):n}},{key:"reconnectDragPreview",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.dragPreview,i=r||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(i&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}i&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!ge(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!ge(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}]),t}();function Ct(t,e){var r=x(),n=(0,l.useMemo)(function(){return new It(r.getBackend())},[r]);return B(function(){return n.dragSourceOptions=t||null,n.reconnect(),function(){return n.disconnectDragSource()}},[n,t]),B(function(){return n.dragPreviewOptions=e||null,n.reconnect(),function(){return n.disconnectDragPreview()}},[n,e]),n}var ve=!1,pe=!1,bt=function(){function t(e){j(this,t),this.sourceId=null,this.internalMonitor=e.getMonitor()}return W(t,[{key:"receiveHandlerId",value:function(r){this.sourceId=r}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){m(!ve,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ve=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{ve=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;m(!pe,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return pe=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{pe=!1}}},{key:"subscribeToStateChange",value:function(r,n){return this.internalMonitor.subscribeToStateChange(r,n)}},{key:"isDraggingSource",value:function(r){return this.internalMonitor.isDraggingSource(r)}},{key:"isOverTarget",value:function(r,n){return this.internalMonitor.isOverTarget(r,n)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(r){return this.internalMonitor.subscribeToOffsetChange(r)}},{key:"canDragSource",value:function(r){return this.internalMonitor.canDragSource(r)}},{key:"canDropOnTarget",value:function(r){return this.internalMonitor.canDropOnTarget(r)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),t}();function Et(){var t=x();return(0,l.useMemo)(function(){return new bt(t)},[t])}function wt(t,e,r){var n=r.getRegistry(),i=n.addTarget(t,e);return[i,function(){return n.removeTarget(i)}]}function xt(t,e,r){var n=r.getRegistry(),i=n.addSource(t,e);return[i,function(){return n.removeSource(i)}]}var Pt=function(){function t(e,r,n){j(this,t),this.spec=e,this.monitor=r,this.connector=n}return W(t,[{key:"beginDrag",value:function(){var r=this.spec,n=this.monitor,i=null;return te(r.item)==="object"?i=r.item:typeof r.item=="function"?i=r.item(n):i={},i!=null?i:null}},{key:"canDrag",value:function(){var r=this.spec,n=this.monitor;return typeof r.canDrag=="boolean"?r.canDrag:typeof r.canDrag=="function"?r.canDrag(n):!0}},{key:"isDragging",value:function(r,n){var i=this.spec,a=this.monitor,u=i.isDragging;return u?u(a):n===r.getSourceId()}},{key:"endDrag",value:function(){var r=this.spec,n=this.monitor,i=this.connector,a=r.end;a&&a(n.getItem(),n),i.reconnect()}}]),t}();function kt(t,e,r){var n=(0,l.useMemo)(function(){return new Pt(t,e,r)},[e,r]);return(0,l.useEffect)(function(){n.spec=t},[t]),n}function Rt(t){return(0,l.useMemo)(function(){var e=t.type;return m(e!=null,"spec.type must be defined"),e},[t])}function Nt(t,e,r){var n=x(),i=kt(t,e,r),a=Rt(t);B(function(){if(a!=null){var o=xt(a,i,n),s=k(o,2),c=s[0],f=s[1];return e.receiveHandlerId(c),r.receiveHandlerId(c),f}},[n,e,r,i,a])}function Mt(t,e){var r=L(t,e);m(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var n=Et(),i=Ct(r.options,r.previewOptions);return Nt(r,n,i),[_(r.collect,n,i),H(i),$(i)]}function At(t){return(0,l.useMemo)(function(){return t.hooks.dropTarget()},[t])}var Lt=function(){function t(e){var r=this;j(this,t),this.hooks=Ae({dropTarget:function(i,a){r.clearDropTarget(),r.dropTargetOptions=a,he(i)?r.dropTargetRef=i:r.dropTargetNode=i,r.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}return W(t,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var r=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();r&&this.disconnectDropTarget();var n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(r){r!==this.handlerId&&(this.handlerId=r,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(r){this.dropTargetOptionsInternal=r}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!ge(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}]),t}();function _t(t){var e=x(),r=(0,l.useMemo)(function(){return new Lt(e.getBackend())},[e]);return B(function(){return r.dropTargetOptions=t||null,r.reconnect(),function(){return r.disconnectDropTarget()}},[t]),r}var me=!1,Ht=function(){function t(e){j(this,t),this.targetId=null,this.internalMonitor=e.getMonitor()}return W(t,[{key:"receiveHandlerId",value:function(r){this.targetId=r}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(r,n){return this.internalMonitor.subscribeToStateChange(r,n)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;m(!me,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return me=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{me=!1}}},{key:"isOver",value:function(r){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,r):!1}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),t}();function jt(){var t=x();return(0,l.useMemo)(function(){return new Ht(t)},[t])}function Ut(t){var e=t.accept;return(0,l.useMemo)(function(){return m(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]},[e])}var Ft=function(){function t(e,r){j(this,t),this.spec=e,this.monitor=r}return W(t,[{key:"canDrop",value:function(){var r=this.spec,n=this.monitor;return r.canDrop?r.canDrop(n.getItem(),n):!0}},{key:"hover",value:function(){var r=this.spec,n=this.monitor;r.hover&&r.hover(n.getItem(),n)}},{key:"drop",value:function(){var r=this.spec,n=this.monitor;if(r.drop)return r.drop(n.getItem(),n)}}]),t}();function Bt(t,e){var r=(0,l.useMemo)(function(){return new Ft(t,e)},[e]);return(0,l.useEffect)(function(){r.spec=t},[t]),r}function Wt(t,e,r){var n=x(),i=Bt(t,e),a=Ut(t);B(function(){var o=wt(a,i,n),s=k(o,2),c=s[0],f=s[1];return e.receiveHandlerId(c),r.receiveHandlerId(c),f},[n,e,i,r,a.map(function(u){return u.toString()}).join("|")])}function _e(t,e){var r=L(t,e),n=jt(),i=_t(r.options);return Wt(r,n,i),[_(r.collect,n,i),At(i)]}function Gt(t){var e=x(),r=e.getMonitor(),n=P(r,t),i=k(n,2),a=i[0],u=i[1];return(0,l.useEffect)(function(){return r.subscribeToOffsetChange(u)}),(0,l.useEffect)(function(){return r.subscribeToStateChange(u)}),a}var U=function(){return U=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},U.apply(this,arguments)};function N(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var qt=function(t,e){return t.text>e.text?1:t.text<e.text?-1:0},Q=function(t,e){return t.find(function(r){return r.id===e})},He=function(t,e,r){if(r===0)return!1;var n=t.find(function(i){return i.id===r});return n===void 0?!1:n.parent===e?!0:He(t,e,n.parent)},ye=function(t){return t.id!==void 0&&t.parent!==void 0&&t.text!==void 0},q=function(t,e,r){var n=r.tree,i=r.rootId,a=r.canDrop;if(t===null){if(e===i)return!0;var u=n.find(function(f){return f.id===e});return!!(u&&u.droppable)}else{var o=ye(t)?t.id:null;if(a){var s=a(o,e);if(s!==void 0)return s}if(o===e)return!1;var c=n.find(function(d){return d.id===o}),u=n.find(function(d){return d.id===e});return c===void 0||o===null?e===i||!!(u!=null&&u.droppable):u===void 0?c.parent!==0:c.parent===e||!u.droppable?!1:!He(n,o,e)}},Vt=function(t,e,r){return t.map(function(n){return n.id===e?U(U({},n),{parent:r}):n})},je=function(t,e,r){if(r===0)return 0;var n=t.filter(function(i){return i.parent===e});return n[r]?t.findIndex(function(i){return i.id===n[r].id}):t.findIndex(function(i){return i.id===n[r-1].id})+1},Yt=function(t,e){return t.findIndex(function(r){return r.id===e})},Ue=function(t,e,r,n){var i=Yt(t,e),a=je(t,r,n);return a=a>i?a-1:a,[i,a]},Xt=function(t,e,r){var n=e<0?t.length+e:e;if(n>=0&&n<t.length){var i=r<0?t.length+r:r,a=t.splice(e,1)[0];t.splice(i,0,a)}},zt=function(t,e,r,n){var i=Ue(t,e,r,n),a=i[0],u=i[1],o=N([],t,!0);return Xt(o,a,u),o.map(function(s){return s.id===e?U(U({},s),{parent:r}):s})},$t=function(t,e){var r=t.getBoundingClientRect(),n=r.top+r.height/2;return e>n?"down":"up"},De=function(t,e){var r="",n=0;return t.forEach(function(i,a){var u,o=$t(i,((u=e.getClientOffset())===null||u===void 0?void 0:u.y)||0);r===""?r=o:r!==o&&(r=o,n=a),a===t.length-1&&o==="down"&&(n=a+1)}),n},Fe=function(t,e,r){var n=e.closest('[role="list"]'),i=n==null?void 0:n.querySelectorAll(':scope > [role="listitem"]');return i?De(i,r):null},Qt=function(t,e,r){var n=t.getBoundingClientRect(),i=r.dropTargetOffset,a=n.top+i,u=n.bottom-i;return e>u?"lower":e<a?"upper":"middle"},Te=function(t,e,r,n){var i;if(!e)return null;if(t===null){var a=e.querySelectorAll(':scope > [role="listitem"]');return{id:n.rootId,index:De(a,r)}}var u=r.getItem(),o=e.querySelector('[role="list"]'),s=Qt(e,((i=r.getClientOffset())===null||i===void 0?void 0:i.y)||0,n);if(o){if(s==="upper")if(q(u,t.parent,n)){var c=Fe(t,e,r);return c===null?null:{id:t.parent,index:c}}else return{id:t.id,index:0};var a=o.querySelectorAll(':scope > [role="listitem"]');return{id:t.id,index:De(a,r)}}else{if(s==="middle")return{id:t.id,index:0};if(q(u,t.parent,n)){var c=Fe(t,e,r);return c===null?null:{id:t.parent,index:c}}return null}},Kt=function(t,e){var r=[],n=function(i,a){var u=i.filter(function(o){return a.includes(o.parent)});u.length>0&&(r=N(N([],r,!0),u,!0),n(i,u.map(function(o){return o.id})))};return n(t,[e]),r};function ai(t,e){for(var r=[],n=t.find(function(i){return i.id===e});n;)n=t.find(function(i){return i.id===n.parent}),n&&r.push(n);return r}var oi=function(t){return t===void 0&&(t={}),{backends:[{id:"html5",backend:HTML5Backend,options:t.html5,transition:PointerTransition},{id:"touch",backend:TouchBackend,options:t.touch||{enableMouseEvents:!0},preview:!0,transition:TouchTransition}]}},re=function(t,e){return t.some(function(r){return r.parent===e})},Be=(0,l.createContext)({}),Zt=function(t){var e=sr(t.tree,t.initialOpen),r=e[0],n=e[1],i=n.handleToggle,a=n.handleCloseAll,u=n.handleOpenAll,o=n.handleOpen,s=n.handleClose;(0,l.useImperativeHandle)(t.treeRef,function(){return{open:function(g){return o(g,t.onChangeOpen)},close:function(g){return s(g,t.onChangeOpen)},openAll:function(){return u(t.onChangeOpen)},closeAll:function(){return a(t.onChangeOpen)}}});var c=x().getMonitor(),f=t.canDrop,d=t.canDrag,y=U(U({extraAcceptTypes:[],listComponent:"ul",listItemComponent:"li",placeholderComponent:"li",sort:!0,insertDroppableFirst:!0,enableAnimateExpand:!1,dropTargetOffset:0,initialOpen:!1},t),{openIds:r,onDrop:function(g,v,h){if(g){var S={dragSourceId:g.id,dropTargetId:v,dragSource:g,dropTarget:Q(t.tree,v),monitor:c},C=t.tree;if(Q(C,g.id)||(C=N(N([],C,!0),[g],!1)),t.sort===!1){var E=Ue(C,g.id,v,h),A=E[1];S.destinationIndex=A,S.relativeIndex=h,t.onDrop(zt(C,g.id,v,h),S);return}t.onDrop(Vt(C,g.id,v),S)}else{var S={dropTargetId:v,dropTarget:Q(t.tree,v),monitor:c};t.sort===!1&&(S.destinationIndex=je(t.tree,v,h),S.relativeIndex=h),t.onDrop(t.tree,S)}},canDrop:f?function(g,v){return f(t.tree,{dragSourceId:g!=null?g:void 0,dropTargetId:v,dragSource:c.getItem(),dropTarget:Q(t.tree,v),monitor:c})}:void 0,canDrag:d?function(g){return d(Q(t.tree,g))}:void 0,onToggle:function(g){return i(g,t.onChangeOpen)}});return l.createElement(Be.Provider,{value:y},t.children)},We=(0,l.createContext)({}),Jt={isLock:!1},er=function(t){var e=(0,l.useState)(Jt.isLock),r=e[0],n=e[1];return l.createElement(We.Provider,{value:{isLock:r,lock:function(){return n(!0)},unlock:function(){return n(!1)}}},t.children)},K=(0,l.createContext)({}),ne={dropTargetId:void 0,index:void 0},tr=function(t){var e=(0,l.useState)(ne.dropTargetId),r=e[0],n=e[1],i=(0,l.useState)(ne.index),a=i[0],u=i[1],o=function(c,f){n(c),u(f)},s=function(){n(ne.dropTargetId),u(ne.index)};return l.createElement(K.Provider,{value:{dropTargetId:r,index:a,showPlaceholder:o,hidePlaceholder:s}},t.children)},rr=function(t){return l.createElement(Zt,U({},t),l.createElement(er,null,l.createElement(tr,null,t.children)))},nr=function(t){var e=(0,l.useContext)(We);(0,l.useEffect)(function(){if(t.current){var r=t.current,n=function(f){var d=f.target;(d instanceof HTMLInputElement||d instanceof HTMLTextAreaElement)&&e.lock()},i=function(f){var d=f.target;(d instanceof HTMLInputElement||d instanceof HTMLTextAreaElement)&&e.unlock()},a=function(f){return n(f)},u=function(f){return i(f)},o=function(f){return n(f)},s=function(f){return i(f)},c=new MutationObserver(function(){document.activeElement===document.body&&e.unlock()});return c.observe(r,{subtree:!0,childList:!0}),r.addEventListener("mouseover",a),r.addEventListener("mouseout",u),r.addEventListener("focusin",o),r.addEventListener("focusout",s),function(){c.disconnect(),r.removeEventListener("mouseover",a),r.removeEventListener("mouseout",u),r.removeEventListener("focusin",o),r.removeEventListener("focusout",s)}}},[t,e]),(0,l.useEffect)(function(){var r;(r=t.current)===null||r===void 0||r.setAttribute("draggable",e.isLock?"false":"true")},[t,e.isLock])},ie={TREE_ITEM:Symbol()},Ge=null,qe=function(t){var e=t.target;if(e instanceof HTMLElement){var r=e.closest('[role="listitem"]');t.currentTarget===r&&(Ge=r)}},Ve=function(t){return qe(t)},Ye=function(t){return qe(t)},ir=function(t,e){var r=V();(0,l.useEffect)(function(){var o=e.current;return o==null||o.addEventListener("dragstart",Ve),o==null||o.addEventListener("touchstart",Ye,{passive:!0}),function(){o==null||o.removeEventListener("dragstart",Ve),o==null||o.removeEventListener("touchstart",Ye)}},[e]);var n=Mt({type:ie.TREE_ITEM,item:function(o){var s=U({ref:e},t);return r.onDragStart&&r.onDragStart(s,o),s},end:function(o,s){var c=o;r.onDragEnd&&r.onDragEnd(c,s)},canDrag:function(){var o=r.canDrag;return Ge!==e.current?!1:o?o(t.id):!0},collect:function(o){return{isDragging:o.isDragging()}}}),i=n[0].isDragging,a=n[1],u=n[2];return[i,a,u]},ar=function(t,e,r){var n=(0,l.useRef)(0),i=(0,l.useRef)(0),a=function(){n.current+=1,n.current===1&&!e&&(i.current=window.setTimeout(function(){return r(t)},500))},u=function(){n.current-=1,n.current===0&&window.clearTimeout(i.current)},o=function(){i.current>0&&window.clearTimeout(i.current),n.current=0,i.current=0};return{onDragEnter:a,onDragLeave:u,onDrop:o}},or=function(t){var e=V(),r=(0,l.useContext)(K),n=_e({accept:N([ie.TREE_ITEM],e.extraAcceptTypes,!0),drop:function(s,c){var f=e.rootId,d=e.onDrop,y=r.dropTargetId,g=r.index;c.isOver({shallow:!0})&&y!==void 0&&g!==void 0&&d(ye(s)?s:null,f,g),r.hidePlaceholder()},canDrop:function(s,c){var f=e.rootId;return c.isOver({shallow:!0})?s===void 0?!1:q(s,f,e):!1},hover:function(s,c){if(c.isOver({shallow:!0})){var f=e.rootId,d=r.dropTargetId,y=r.index,g=r.showPlaceholder,v=r.hidePlaceholder,h=Te(null,t.current,c,e);if(h===null||!q(s,f,e)){v();return}(h.id!==d||h.index!==y)&&g(h.id,h.index)}},collect:function(s){var c=s.getItem();return{isOver:s.isOver({shallow:!0})&&s.canDrop(),dragSource:c}}}),i=n[0],a=i.isOver,u=i.dragSource,o=n[1];return[a,u,o]},ur=function(t,e){var r=V(),n=(0,l.useContext)(K),i=_e({accept:N([ie.TREE_ITEM],r.extraAcceptTypes,!0),drop:function(c,f){var d=n.dropTargetId,y=n.index;f.isOver({shallow:!0})&&d!==void 0&&y!==void 0&&r.onDrop(ye(c)?c:null,d,y),n.hidePlaceholder()},canDrop:function(c,f){if(f.isOver({shallow:!0})){var d=Te(t,e.current,f,r);return d===null?!1:q(c,d.id,r)}return!1},hover:function(c,f){if(f.isOver({shallow:!0})){var d=n.dropTargetId,y=n.index,g=n.showPlaceholder,v=n.hidePlaceholder,h=Te(t,e.current,f,r);if(h===null||!q(c,h.id,r)){v();return}(h.id!==d||h.index!==y)&&g(h.id,h.index)}},collect:function(c){var f=c.getItem();return{isOver:c.isOver({shallow:!0})&&c.canDrop(),dragSource:f}}}),a=i[0],u=a.isOver,o=a.dragSource,s=i[1];return[u,o,s]},sr=function(t,e){var r=(0,l.useMemo)(function(){return e===!0?t.filter(function(d){return re(t,d.id)}).map(function(d){return d.id}):Array.isArray(e)?e:[]},[e]),n=(0,l.useState)(r),i=n[0],a=n[1];(0,l.useEffect)(function(){return a(r)},[e]);var u=function(d,y){var g=i.includes(d)?i.filter(function(v){return v!==d}):N(N([],i,!0),[d],!1);a(g),y&&y(g)},o=function(d){a([]),d&&d([])},s=function(d){var y=t.filter(function(g){return re(t,g.id)}).map(function(g){return g.id});a(y),d&&d(y)},c=function(d,y){var g=[];if(Array.isArray(d)){var v=t.filter(function(h){return d.includes(h.id)&&re(t,h.id)});g=N(N([],i,!0),v.map(function(h){return h.id}),!0).filter(function(h,S,C){return C.indexOf(h)===S})}else g=i.includes(d)?i:N(N([],i,!0),[d],!1);a(g),y&&y(g)},f=function(d,y){var g=i.filter(function(v){return Array.isArray(d)?!d.includes(v):v!==d});a(g),y&&y(g)};return[i,{handleToggle:u,handleCloseAll:o,handleOpenAll:s,handleOpen:c,handleClose:f}]},cr=function(){return Gt(function(t){var e=t.getItemType();return{item:t.getItem(),clientOffset:t.getClientOffset(),isDragging:t.isDragging()&&e===ie.TREE_ITEM}})},V=function(){var t=(0,l.useContext)(Be);if(!t)throw new Error("useTreeContext must be used under TreeProvider");return t},lr=function(t,e){var r=V(),n=r.rootId,i=r.rootProps,a=r.classes,u=(a==null?void 0:a.container)||"";return e&&(a!=null&&a.dropTarget)&&(u="".concat(u," ").concat(a.dropTarget)),t===n&&(a!=null&&a.root)&&(u="".concat(u," ").concat(a.root)),t===n&&(i!=null&&i.className)&&(u="".concat(u," ").concat(i.className)),u=u.trim(),u},fr=function(t,e,r){e.current?r(e):r(t),(0,l.useEffect)(function(){e.current?r(e):r(t)},[e.current])},Xe=function(t){var e=V(),r=e.placeholderRender,n=e.placeholderComponent,i=e.classes,a=(0,l.useContext)(K),u=x(),o=u.getMonitor(),s=o.getItem();if(!r||!s)return null;var c=t.dropTargetId===a.dropTargetId&&(t.index===a.index||t.index===void 0&&t.listCount===a.index);return c?l.createElement(n,{className:(i==null?void 0:i.placeholder)||""},r(s,{depth:t.depth})):null},dr={height:"100%",left:0,pointerEvents:"none",position:"fixed",top:0,width:"100%",zIndex:100},gr=function(t){var e=t.clientOffset;if(!e)return{};var r=e.x,n=e.y,i="translate(".concat(r,"px, ").concat(n,"px)");return{pointerEvents:"none",transform:i}},hr=function(){var t=V(),e=cr(),r=e.isDragging,n=e.clientOffset;return!r||!n?null:l.createElement("div",{style:dr},l.createElement("div",{style:gr(e)},t.dragPreviewRender&&t.dragPreviewRender(e)))};let ae;function vr(){return ae||(ae=new Image,ae.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),ae}function ze(t){let e=null;return()=>(e==null&&(e=t()),e)}function pr(t,e){return t.filter(r=>r!==e)}function mr(t,e){const r=new Set,n=a=>r.add(a);t.forEach(n),e.forEach(n);const i=[];return r.forEach(a=>i.push(a)),i}class yr{enter(e){const r=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=mr(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=pr(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Dr{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(r[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const $e="__NATIVE_FILE__",Qe="__NATIVE_URL__",Ke="__NATIVE_TEXT__",Ze="__NATIVE_HTML__";function Oe(t,e,r){const n=e.reduce((i,a)=>i||t.getData(a),"");return n!=null?n:r}const Se={[$e]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Ze]:{exposeProperties:{html:(t,e)=>Oe(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Qe]:{exposeProperties:{urls:(t,e)=>Oe(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[Ke]:{exposeProperties:{text:(t,e)=>Oe(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Tr(t,e){const r=Se[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new Dr(r);return n.loadDataTransfer(e),n}function Ie(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Se).filter(r=>{const n=Se[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const Or=ze(()=>/firefox/i.test(navigator.userAgent)),Je=ze(()=>!!window.safari);class et{interpolate(e){const{xs:r,ys:n,c1s:i,c2s:a,c3s:u}=this;let o=r.length-1;if(e===r[o])return n[o];let s=0,c=u.length-1,f;for(;s<=c;){f=Math.floor(.5*(s+c));const g=r[f];if(g<e)s=f+1;else if(g>e)c=f-1;else return n[f]}o=Math.max(0,c);const d=e-r[o],y=d*d;return n[o]+i[o]*d+a[o]*y+u[o]*d*y}constructor(e,r){const{length:n}=e,i=[];for(let v=0;v<n;v++)i.push(v);i.sort((v,h)=>e[v]<e[h]?-1:1);const a=[],u=[],o=[];let s,c;for(let v=0;v<n-1;v++)s=e[v+1]-e[v],c=r[v+1]-r[v],u.push(s),a.push(c),o.push(c/s);const f=[o[0]];for(let v=0;v<u.length-1;v++){const h=o[v],S=o[v+1];if(h*S<=0)f.push(0);else{s=u[v];const C=u[v+1],E=s+C;f.push(3*E/((E+C)/h+(E+s)/S))}}f.push(o[o.length-1]);const d=[],y=[];let g;for(let v=0;v<f.length-1;v++){g=o[v];const h=f[v],S=1/u[v],C=h+f[v+1]-g-g;d.push((g-h-C)*S),y.push(C*S*S)}this.xs=e,this.ys=r,this.c1s=f,this.c2s=d,this.c3s=y}}const Sr=1;function tt(t){const e=t.nodeType===Sr?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function oe(t){return{x:t.clientX,y:t.clientY}}function Ir(t){var e;return t.nodeName==="IMG"&&(Or()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function Cr(t,e,r,n){let i=t?e.width:r,a=t?e.height:n;return Je()&&t&&(a/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:a}}function br(t,e,r,n,i){const a=Ir(e),o=tt(a?t:e),s={x:r.x-o.x,y:r.y-o.y},{offsetWidth:c,offsetHeight:f}=t,{anchorX:d,anchorY:y}=n,{dragPreviewWidth:g,dragPreviewHeight:v}=Cr(a,e,c,f),h=()=>{let ee=new et([0,.5,1],[s.y,s.y/f*v,s.y+v-f]).interpolate(y);return Je()&&a&&(ee+=(window.devicePixelRatio-1)*v),ee},S=()=>new et([0,.5,1],[s.x,s.x/c*g,s.x+g-c]).interpolate(d),{offsetX:C,offsetY:E}=i,A=C===0||C,J=E===0||E;return{x:A?C:S(),y:J?E:h()}}class Er{get window(){if(this.globalContext)return this.globalContext;if(typeof window!="undefined")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function wr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){wr(t,i,r[i])})}return t}class xr{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const i=u=>this.handleDragStart(u,e),a=u=>this.handleSelectStart(u);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",i),r.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",i),r.removeEventListener("selectstart",a),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=u=>this.handleDragEnter(u,e),i=u=>this.handleDragOver(u,e),a=u=>this.handleDrop(u,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",i),r.addEventListener("drop",a),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",i),r.removeEventListener("drop",a)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return rt({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return rt({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(D).some(r=>D[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Tr(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const a=this.sourceNodes.get(i);return a&&tt(a)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame!="undefined"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame!="undefined"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:a}=this;this.dragStartSourceIds=null;const u=oe(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(a||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:u});const{dataTransfer:o}=i,s=Ie(o);if(this.monitor.isDragging()){if(o&&typeof o.setDragImage=="function"){const f=this.monitor.getSourceId(),d=this.sourceNodes.get(f),y=this.sourcePreviewNodes.get(f)||d;if(y){const{anchorX:g,anchorY:v,offsetX:h,offsetY:S}=this.getCurrentSourcePreviewNodeOptions(),A=br(d,y,u,{anchorX:g,anchorY:v},{offsetX:h,offsetY:S});o.setDragImage(y,A.x,A.y)}}try{o==null||o.setData("application/json",{})}catch(f){}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:c}=this.getCurrentSourcePreviewNodeOptions();c?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(s)this.beginDragNativeItem(s);else{if(o&&!o.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:o}=i,s=Ie(o);s&&this.beginDragNativeItem(s,o)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:a}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,a.length>0&&this.actions.hover(a,{clientOffset:oe(i)}),a.some(o=>this.monitor.canDropOnTarget(o))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:a}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=oe(i),this.scheduleHover(a),(a||[]).some(o=>this.monitor.canDropOnTarget(o))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var a;i.preventDefault(),(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(i.dataTransfer)}else Ie(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:a}=this;this.dropTargetIds=[],this.actions.hover(a,{clientOffset:oe(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const a=i.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(i.preventDefault(),a.dragDrop()))},this.options=new Er(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new yr(this.isNodeInDocument)}}const Pr=function(e,r,n){return new xr(e,r,n)};var kr=p(11527);function M(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var nt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ce=function(){return Math.random().toString(36).substring(7).split("").join(".")},X={INIT:"@@redux/INIT"+Ce(),REPLACE:"@@redux/REPLACE"+Ce(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ce()}};function it(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function ui(t){if(t===void 0)return"undefined";if(t===null)return"null";var e=typeof t;switch(e){case"boolean":case"string":case"number":case"symbol":case"function":return e}if(Array.isArray(t))return"array";if(Mr(t))return"date";if(Nr(t))return"error";var r=Rr(t);switch(r){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return r}return e.slice(8,-1).toLowerCase().replace(/\s/g,"")}function Rr(t){return typeof t.constructor=="function"?t.constructor.name:null}function Nr(t){return t instanceof Error||typeof t.message=="string"&&t.constructor&&typeof t.constructor.stackTraceLimit=="number"}function Mr(t){return t instanceof Date?!0:typeof t.toDateString=="function"&&typeof t.getDate=="function"&&typeof t.setDate=="function"}function Ar(t){var e=typeof t;return e}function at(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(M(0));if(typeof e=="function"&&typeof r=="undefined"&&(r=e,e=void 0),typeof r!="undefined"){if(typeof r!="function")throw new Error(M(1));return r(at)(t,e)}if(typeof t!="function")throw new Error(M(2));var i=t,a=e,u=[],o=u,s=!1;function c(){o===u&&(o=u.slice())}function f(){if(s)throw new Error(M(3));return a}function d(h){if(typeof h!="function")throw new Error(M(4));if(s)throw new Error(M(5));var S=!0;return c(),o.push(h),function(){if(S){if(s)throw new Error(M(6));S=!1,c();var E=o.indexOf(h);o.splice(E,1),u=null}}}function y(h){if(!it(h))throw new Error(M(7));if(typeof h.type=="undefined")throw new Error(M(8));if(s)throw new Error(M(9));try{s=!0,a=i(a,h)}finally{s=!1}for(var S=u=o,C=0;C<S.length;C++){var E=S[C];E()}return h}function g(h){if(typeof h!="function")throw new Error(M(10));i=h,y({type:X.REPLACE})}function v(){var h,S=d;return h={subscribe:function(E){if(typeof E!="object"||E===null)throw new Error(M(11));function A(){E.next&&E.next(f())}A();var J=S(A);return{unsubscribe:J}}},h[nt]=function(){return this},h}return y({type:X.INIT}),n={dispatch:y,subscribe:d,getState:f,replaceReducer:g},n[nt]=v,n}var si=null;function ci(t){typeof console!="undefined"&&typeof console.error=="function"&&console.error(t);try{throw new Error(t)}catch(e){}}function li(t,e,r,n){var i=Object.keys(e),a=r&&r.type===X.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(i.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!it(t))return"The "+a+' has unexpected type of "'+Ar(t)+'". Expected argument to be an object with the following '+('keys: "'+i.join('", "')+'"');var u=Object.keys(t).filter(function(o){return!e.hasOwnProperty(o)&&!n[o]});if(u.forEach(function(o){n[o]=!0}),!(r&&r.type===X.REPLACE)&&u.length>0)return"Unexpected "+(u.length>1?"keys":"key")+" "+('"'+u.join('", "')+'" found in '+a+". ")+"Expected to find one of the known reducer keys instead: "+('"'+i.join('", "')+'". Unexpected keys will be ignored.')}function Lr(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:X.INIT});if(typeof n=="undefined")throw new Error(M(12));if(typeof r(void 0,{type:X.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(M(13))})}function fi(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var a=Object.keys(r),u,o;try{Lr(r)}catch(s){o=s}return function(c,f){if(c===void 0&&(c={}),o)throw o;if(!1)var d;for(var y=!1,g={},v=0;v<a.length;v++){var h=a[v],S=r[h],C=c[h],E=S(C,f);if(typeof E=="undefined"){var A=f&&f.type;throw new Error(M(14))}g[h]=E,y=y||E!==C}return y=y||a.length!==Object.keys(c).length,y?g:c}}function ot(t,e){return function(){return e(t.apply(this,arguments))}}function di(t,e){if(typeof t=="function")return ot(t,e);if(typeof t!="object"||t===null)throw new Error(M(16));var r={};for(var n in t){var i=t[n];typeof i=="function"&&(r[n]=ot(i,e))}return r}function _r(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function gi(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(M(15))},u={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},o=e.map(function(s){return s(u)});return a=_r.apply(void 0,o)(i.dispatch),_objectSpread(_objectSpread({},i),{},{dispatch:a})}}}function Hr(t,e,r){return e.split(".").reduce(function(n,i){return n&&n[i]?n[i]:r||null},t)}function jr(t,e){return t.filter(function(r){return r!==e})}function hi(t){return typeof t=="string"}function ut(t){return te(t)==="object"}function Ur(t,e){var r=new Map,n=function(u){r.set(u,r.has(u)?r.get(u)+1:1)};t.forEach(n),e.forEach(n);var i=[];return r.forEach(function(a,u){a===1&&i.push(u)}),i}function Fr(t,e){return t.filter(function(r){return e.indexOf(r)>-1})}var be="dnd-core/INIT_COORDS",ue="dnd-core/BEGIN_DRAG",Ee="dnd-core/PUBLISH_DRAG_SOURCE",se="dnd-core/HOVER",ce="dnd-core/DROP",le="dnd-core/END_DRAG";function st(t,e){return{type:be,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}var Br={type:be,payload:{clientOffset:null,sourceClientOffset:null}};function Wr(t){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},i=n.publishSource,a=i===void 0?!0:i,u=n.clientOffset,o=n.getSourceClientOffset,s=t.getMonitor(),c=t.getRegistry();t.dispatch(st(u)),Gr(r,s,c);var f=Yr(r,s);if(f==null){t.dispatch(Br);return}var d=null;if(u){if(!o)throw new Error("getSourceClientOffset must be defined");qr(o),d=o(f)}t.dispatch(st(u,d));var y=c.getSource(f),g=y.beginDrag(s,f);if(g!=null){Vr(g),c.pinSource(f);var v=c.getSourceType(f);return{type:ue,payload:{itemType:v,item:g,sourceId:f,clientOffset:u||null,sourceClientOffset:d||null,isSourcePublic:!!a}}}}}function Gr(t,e,r){m(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){m(r.getSource(n),"Expected sourceIds to be registered.")})}function qr(t){m(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Vr(t){m(ut(t),"Item must be an object.")}function Yr(t,e){for(var r=null,n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function Xr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Xr(t,i,r[i])})}return t}function $r(t){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.getMonitor(),i=t.getRegistry();Qr(n);var a=Jr(n);a.forEach(function(u,o){var s=Kr(u,o,i,n),c={type:ce,payload:{dropResult:zr({},r,s)}};t.dispatch(c)})}}function Qr(t){m(t.isDragging(),"Cannot call drop while not dragging."),m(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function Kr(t,e,r,n){var i=r.getTarget(t),a=i?i.drop(n,t):void 0;return Zr(a),typeof a=="undefined"&&(a=e===0?{}:n.getDropResult()),a}function Zr(t){m(typeof t=="undefined"||ut(t),"Drop result must either be an object or undefined.")}function Jr(t){var e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function en(t){return function(){var r=t.getMonitor(),n=t.getRegistry();tn(r);var i=r.getSourceId();if(i!=null){var a=n.getSource(i,!0);a.endDrag(r,i),n.unpinSource()}return{type:le}}}function tn(t){m(t.isDragging(),"Cannot call endDrag while not dragging.")}function we(t,e){return e===null?t===null:Array.isArray(t)?t.some(function(r){return r===e}):t===e}function rn(t){return function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.clientOffset;nn(r);var a=r.slice(0),u=t.getMonitor(),o=t.getRegistry(),s=u.getItemType();return on(a,o,s),an(a,u,o),un(a,u,o),{type:se,payload:{targetIds:a,clientOffset:i||null}}}}function nn(t){m(Array.isArray(t),"Expected targetIds to be an array.")}function an(t,e,r){m(e.isDragging(),"Cannot call hover while not dragging."),m(!e.didDrop(),"Cannot call hover after drop.");for(var n=0;n<t.length;n++){var i=t[n];m(t.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");var a=r.getTarget(i);m(a,"Expected targetIds to be registered.")}}function on(t,e,r){for(var n=t.length-1;n>=0;n--){var i=t[n],a=e.getTargetType(i);we(a,r)||t.splice(n,1)}}function un(t,e,r){t.forEach(function(n){var i=r.getTarget(n);i.hover(e,n)})}function sn(t){return function(){var r=t.getMonitor();if(r.isDragging())return{type:Ee}}}function cn(t){return{beginDrag:Wr(t),publishDragSource:sn(t),hover:rn(t),drop:$r(t),endDrag:en(t)}}var ln=function(){function t(e,r){var n=this;j(this,t),this.isSetUp=!1,this.handleRefCountChange=function(){var i=n.store.getState().refCount>0;n.backend&&(i&&!n.isSetUp?(n.backend.setup(),n.isSetUp=!0):!i&&n.isSetUp&&(n.backend.teardown(),n.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}return W(t,[{key:"receiveBackend",value:function(r){this.backend=r}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var r=this,n=this.store.dispatch;function i(u){return function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];var f=u.apply(r,s);typeof f!="undefined"&&n(f)}}var a=cn(this);return Object.keys(a).reduce(function(u,o){var s=a[o];return u[o]=i(s),u},{})}},{key:"dispatch",value:function(r){this.store.dispatch(r)}}]),t}();function fn(t,e){return{x:t.x+e.x,y:t.y+e.y}}function ct(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dn(t){var e=t.clientOffset,r=t.initialClientOffset,n=t.initialSourceClientOffset;return!e||!r||!n?null:ct(fn(e,n),r)}function gn(t){var e=t.clientOffset,r=t.initialClientOffset;return!e||!r?null:ct(e,r)}var Z=[],xe=[];Z.__IS_NONE__=!0,xe.__IS_ALL__=!0;function hn(t,e){if(t===Z)return!1;if(t===xe||typeof e=="undefined")return!0;var r=Fr(e,t);return r.length>0}var vn=function(){function t(e,r){j(this,t),this.store=e,this.registry=r}return W(t,[{key:"subscribeToStateChange",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.handlerIds;m(typeof r=="function","listener must be a function."),m(typeof a=="undefined"||Array.isArray(a),"handlerIds, when specified, must be an array of strings.");var u=this.store.getState().stateId,o=function(){var c=n.store.getState(),f=c.stateId;try{var d=f===u||f===u+1&&!hn(c.dirtyHandlerIds,a);d||r()}finally{u=f}};return this.store.subscribe(o)}},{key:"subscribeToOffsetChange",value:function(r){var n=this;m(typeof r=="function","listener must be a function.");var i=this.store.getState().dragOffset,a=function(){var o=n.store.getState().dragOffset;o!==i&&(i=o,r())};return this.store.subscribe(a)}},{key:"canDragSource",value:function(r){if(!r)return!1;var n=this.registry.getSource(r);return m(n,"Expected to find a valid source. sourceId=".concat(r)),this.isDragging()?!1:n.canDrag(this,r)}},{key:"canDropOnTarget",value:function(r){if(!r)return!1;var n=this.registry.getTarget(r);if(m(n,"Expected to find a valid target. targetId=".concat(r)),!this.isDragging()||this.didDrop())return!1;var i=this.registry.getTargetType(r),a=this.getItemType();return we(i,a)&&n.canDrop(this,r)}},{key:"isDragging",value:function(){return!!this.getItemType()}},{key:"isDraggingSource",value:function(r){if(!r)return!1;var n=this.registry.getSource(r,!0);if(m(n,"Expected to find a valid source. sourceId=".concat(r)),!this.isDragging()||!this.isSourcePublic())return!1;var i=this.registry.getSourceType(r),a=this.getItemType();return i!==a?!1:n.isDragging(this,r)}},{key:"isOverTarget",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!r)return!1;var i=n.shallow;if(!this.isDragging())return!1;var a=this.registry.getTargetType(r),u=this.getItemType();if(u&&!we(a,u))return!1;var o=this.getTargetIds();if(!o.length)return!1;var s=o.indexOf(r);return i?s===o.length-1:s>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return!!this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return dn(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return gn(this.store.getState().dragOffset)}}]),t}();const lt=typeof global!="undefined"?global:self,ft=lt.MutationObserver||lt.WebKitMutationObserver;function dt(t){return function(){const r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),t()}}}function pn(t){let e=1;const r=new ft(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const mn=typeof ft=="function"?pn:dt;class yn{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,i=e.length-this.index;n<i;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=mn(this.flush),this.requestErrorThrow=dt(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Dn{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class Tn{create(e){const r=this.freeTasks,n=r.length?r.pop():new Dn(this.onError,i=>r[r.length]=i);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const gt=new yn,On=new Tn(gt.registerPendingError);function Sn(t){gt.enqueueTask(On.create(t))}var Pe="dnd-core/ADD_SOURCE",ke="dnd-core/ADD_TARGET",Re="dnd-core/REMOVE_SOURCE",fe="dnd-core/REMOVE_TARGET";function In(t){return{type:Pe,payload:{sourceId:t}}}function Cn(t){return{type:ke,payload:{targetId:t}}}function bn(t){return{type:Re,payload:{sourceId:t}}}function En(t){return{type:fe,payload:{targetId:t}}}function wn(t){m(typeof t.canDrag=="function","Expected canDrag to be a function."),m(typeof t.beginDrag=="function","Expected beginDrag to be a function."),m(typeof t.endDrag=="function","Expected endDrag to be a function.")}function xn(t){m(typeof t.canDrop=="function","Expected canDrop to be a function."),m(typeof t.hover=="function","Expected hover to be a function."),m(typeof t.drop=="function","Expected beginDrag to be a function.")}function Ne(t,e){if(e&&Array.isArray(t)){t.forEach(function(r){return Ne(r,!1)});return}m(typeof t=="string"||te(t)==="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var F;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(F||(F={}));var Pn=0;function kn(){return Pn++}function Rn(t){var e=kn().toString();switch(t){case F.SOURCE:return"S".concat(e);case F.TARGET:return"T".concat(e);default:throw new Error("Unknown Handler Role: ".concat(t))}}function ht(t){switch(t[0]){case"S":return F.SOURCE;case"T":return F.TARGET;default:throw new Error("Cannot parse handler ID: ".concat(t))}}function vt(t,e){var r=t.entries(),n=!1;do{var i=r.next(),a=i.done,u=k(i.value,2),o=u[1];if(o===e)return!0;n=!!a}while(!n);return!1}var Nn=function(){function t(e){j(this,t),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}return W(t,[{key:"addSource",value:function(r,n){Ne(r),wn(n);var i=this.addHandler(F.SOURCE,r,n);return this.store.dispatch(In(i)),i}},{key:"addTarget",value:function(r,n){Ne(r,!0),xn(n);var i=this.addHandler(F.TARGET,r,n);return this.store.dispatch(Cn(i)),i}},{key:"containsHandler",value:function(r){return vt(this.dragSources,r)||vt(this.dropTargets,r)}},{key:"getSource",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;m(this.isSourceId(r),"Expected a valid source ID.");var i=n&&r===this.pinnedSourceId,a=i?this.pinnedSource:this.dragSources.get(r);return a}},{key:"getTarget",value:function(r){return m(this.isTargetId(r),"Expected a valid target ID."),this.dropTargets.get(r)}},{key:"getSourceType",value:function(r){return m(this.isSourceId(r),"Expected a valid source ID."),this.types.get(r)}},{key:"getTargetType",value:function(r){return m(this.isTargetId(r),"Expected a valid target ID."),this.types.get(r)}},{key:"isSourceId",value:function(r){var n=ht(r);return n===F.SOURCE}},{key:"isTargetId",value:function(r){var n=ht(r);return n===F.TARGET}},{key:"removeSource",value:function(r){var n=this;m(this.getSource(r),"Expected an existing source."),this.store.dispatch(bn(r)),Sn(function(){n.dragSources.delete(r),n.types.delete(r)})}},{key:"removeTarget",value:function(r){m(this.getTarget(r),"Expected an existing target."),this.store.dispatch(En(r)),this.dropTargets.delete(r),this.types.delete(r)}},{key:"pinSource",value:function(r){var n=this.getSource(r);m(n,"Expected an existing source."),this.pinnedSourceId=r,this.pinnedSource=n}},{key:"unpinSource",value:function(){m(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(r,n,i){var a=Rn(r);return this.types.set(a,n),r===F.SOURCE?this.dragSources.set(a,i):r===F.TARGET&&this.dropTargets.set(a,i),a}}]),t}(),Mn=function(e,r){return e===r};function An(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function Ln(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mn;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function _n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Z,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case se:break;case Pe:case ke:case fe:case Re:return Z;case ue:case Ee:case le:case ce:default:return xe}var r=e.payload,n=r.targetIds,i=n===void 0?[]:n,a=r.prevTargetIds,u=a===void 0?[]:a,o=Ur(i,u),s=o.length>0||!Ln(i,u);if(!s)return Z;var c=u[u.length-1],f=i[i.length-1];return c!==f&&(c&&o.push(c),f&&o.push(f)),o}function Hn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Hn(t,i,r[i])})}return t}var pt={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Un(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pt,e=arguments.length>1?arguments[1]:void 0,r=e.payload;switch(e.type){case be:case ue:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case se:return An(t.clientOffset,r.clientOffset)?t:jn({},t,{clientOffset:r.clientOffset});case le:case ce:return pt;default:return t}}function Fn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Fn(t,i,r[i])})}return t}var Bn={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Wn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bn,e=arguments.length>1?arguments[1]:void 0,r=e.payload;switch(e.type){case ue:return z({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Ee:return z({},t,{isSourcePublic:!0});case se:return z({},t,{targetIds:r.targetIds});case fe:return t.targetIds.indexOf(r.targetId)===-1?t:z({},t,{targetIds:jr(t.targetIds,r.targetId)});case ce:return z({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case le:return z({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function Gn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Pe:case ke:return t+1;case Re:case fe:return t-1;default:return t}}function qn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t+1}function Vn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Vn(t,i,r[i])})}return t}function Xn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:_n(t.dirtyHandlerIds,{type:e.type,payload:Yn({},e.payload,{prevTargetIds:Hr(t,"dragOperation.targetIds",[])})}),dragOffset:Un(t.dragOffset,e),refCount:Gn(t.refCount,e),dragOperation:Wn(t.dragOperation,e),stateId:qn(t.stateId)}}function zn(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=$n(n),a=new vn(i,new Nn(i)),u=new ln(i,a),o=t(u,e,r);return u.receiveBackend(o),u}function $n(t){var e=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__;return at(Xn,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function Qn(t,e){if(t==null)return{};var r=Kn(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kn(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var mt=0,de=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),Zn=(0,l.memo)(function(e){var r=e.children,n=Qn(e,["children"]),i=Jn(n),a=k(i,2),u=a[0],o=a[1];return(0,l.useEffect)(function(){if(o){var s=yt();return++mt,function(){--mt===0&&(s[de]=null)}}},[]),(0,kr.jsx)(w.Provider,{value:u,children:r})});function Jn(t){if("manager"in t){var e={dragDropManager:t.manager};return[e,!1]}var r=ei(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[r,n]}function ei(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yt(),r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=e;return i[de]||(i[de]={dragDropManager:zn(t,e,r,n)}),i[de]}function yt(){return typeof global!="undefined"?global:window}var ti=function(t){var e=V(),r=(0,l.useContext)(K),n=(0,l.useRef)(null),i=(0,l.useRef)(null),a=e.tree.find(function(ii){return ii.id===t.id}),u=e.openIds,o=e.classes;e.enableAnimateExpand;var s=u.includes(t.id),c=ir(a,n),f=c[0],d=c[1],y=c[2],g=ur(a,n),v=g[0],h=g[1],S=g[2];fr(n,i,d),q(h,t.id,e)&&S(n),(0,l.useEffect)(function(){e.dragPreviewRender?y(vr(),{captureDraggingState:!0}):i.current&&y(n)},[y,e.dragPreviewRender]),nr(n);var C=function(){return e.onToggle(a.id)},E=e.listItemComponent,A=(o==null?void 0:o.listItem)||"";v&&(o!=null&&o.dropTarget)&&(A="".concat(A," ").concat(o.dropTarget)),f&&(o!=null&&o.draggingSource)&&(A="".concat(A," ").concat(o.draggingSource));var J=e.canDrag?e.canDrag(t.id):!0,Me=r.dropTargetId===t.id,ee={depth:t.depth,isOpen:s,isDragging:f,isDropTarget:Me,draggable:J,hasChild:re(e.tree,t.id),containerRef:n,handleRef:i,onToggle:C};return l.createElement(E,{ref:n,className:A,role:"listitem"},e.render(a,ee),ee.hasChild&&s&&l.createElement(Dt,{parentId:t.id,depth:t.depth+1}))},Dt=function(t){var e=V(),r=(0,l.useRef)(null),n=e.tree.filter(function(h){return h.parent===t.parentId}),i=n,a=typeof e.sort=="function"?e.sort:qt;if(e.insertDroppableFirst){var u=n.filter(function(h){return h.droppable}),o=n.filter(function(h){return!h.droppable});e.sort===!1?i=N(N([],u,!0),o,!0):(u=u.sort(a),o=o.sort(a),i=N(N([],u,!0),o,!0))}else e.sort!==!1&&(i=n.sort(a));var s=or(r),c=s[0],f=s[1],d=s[2];t.parentId===e.rootId&&q(f,e.rootId,e)&&d(r);var y=lr(t.parentId,c),g=e.rootProps||{},v=e.listComponent;return l.createElement(v,U({ref:r,role:"list"},g,{className:y}),i.map(function(h,S){return l.createElement(l.Fragment,{key:h.id},l.createElement(Xe,{depth:t.depth,listCount:i.length,dropTargetId:t.parentId,index:S}),l.createElement(ti,{id:h.id,depth:t.depth}))}),l.createElement(Xe,{depth:t.depth,listCount:i.length,dropTargetId:t.parentId}))};function ri(t,e){return l.createElement(rr,U({},t,{treeRef:e}),t.dragPreviewRender&&l.createElement(hr,null),l.createElement(Dt,{parentId:t.rootId,depth:0}))}var ni=(0,l.forwardRef)(ri)}}]);
