"use strict";(self.webpackChunk_rainetian_file_explorer=self.webpackChunk_rainetian_file_explorer||[]).push([[479],{99288:function(b,l,e){var v;e.r(l),e.d(l,{demos:function(){return t}});var R=e(90228),E=e.n(R),B=e(87999),V=e.n(B),s=e(75271),Z=e(4969),W=e(73173),M=e(25266),T=e(88309),t={"docs-src-example-demo-base":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,83343))})),asset:{type:"BLOCK",id:"docs-src-example-demo-base",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(3921).Z},"@rainetian/file-explorer":{type:"NPM",value:"0.2.3"},react:{type:"NPM",value:"18.3.1"},"./filesData.ts":{type:"FILE",value:e(18463).Z}},entry:"index.tsx"},context:{"./filesData.ts":W,"@rainetian/file-explorer":Z,react:v||(v=e.t(s,2)),"/Users/tianyu/Documents/tianyu/file-explorer/docs-src/example/code/filesData.ts":W},renderOpts:{compile:function(){var j=V()(E()().mark(function A(){var m,F=arguments;return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(135).then(e.bind(e,5135));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,F));case 3:case"end":return r.stop()}},A)}));function C(){return j.apply(this,arguments)}return C}()}},"docs-src-example-demo-icons":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,11363))})),asset:{type:"BLOCK",id:"docs-src-example-demo-icons",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(67402).Z},"@rainetian/file-explorer":{type:"NPM",value:"0.2.3"},react:{type:"NPM",value:"18.3.1"},"./filesData.ts":{type:"FILE",value:e(18463).Z}},entry:"index.tsx"},context:{"./filesData.ts":W,"@rainetian/file-explorer":Z,react:v||(v=e.t(s,2)),"/Users/tianyu/Documents/tianyu/file-explorer/docs-src/example/code/filesData.ts":W},renderOpts:{compile:function(){var j=V()(E()().mark(function A(){var m,F=arguments;return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(135).then(e.bind(e,5135));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,F));case 3:case"end":return r.stop()}},A)}));function C(){return j.apply(this,arguments)}return C}()}},"docs-src-example-demo-customtitle":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,12810))})),asset:{type:"BLOCK",id:"docs-src-example-demo-customtitle",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(17478).Z},"@rainetian/file-explorer":{type:"NPM",value:"0.2.3"},react:{type:"NPM",value:"18.3.1"},"./treeData.ts":{type:"FILE",value:e(19184).Z}},entry:"index.tsx"},context:{"./treeData.ts":M,"@rainetian/file-explorer":Z,react:v||(v=e.t(s,2)),"/Users/tianyu/Documents/tianyu/file-explorer/docs-src/example/code/treeData.ts":M},renderOpts:{compile:function(){var j=V()(E()().mark(function A(){var m,F=arguments;return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(135).then(e.bind(e,5135));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,F));case 3:case"end":return r.stop()}},A)}));function C(){return j.apply(this,arguments)}return C}()}},"docs-src-example-demo-disableddrag":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,63380))})),asset:{type:"BLOCK",id:"docs-src-example-demo-disableddrag",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(1956).Z},"@rainetian/file-explorer":{type:"NPM",value:"0.2.3"},react:{type:"NPM",value:"18.3.1"},"./treeData.ts":{type:"FILE",value:e(19184).Z}},entry:"index.tsx"},context:{"./treeData.ts":M,"@rainetian/file-explorer":Z,react:v||(v=e.t(s,2)),"/Users/tianyu/Documents/tianyu/file-explorer/docs-src/example/code/treeData.ts":M},renderOpts:{compile:function(){var j=V()(E()().mark(function A(){var m,F=arguments;return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(135).then(e.bind(e,5135));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,F));case 3:case"end":return r.stop()}},A)}));function C(){return j.apply(this,arguments)}return C}()}},"docs-src-example-demo-event":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,18947))})),asset:{type:"BLOCK",id:"docs-src-example-demo-event",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(41684).Z},"@rainetian/file-explorer":{type:"NPM",value:"0.2.3"},react:{type:"NPM",value:"18.3.1"},"./treeData.ts":{type:"FILE",value:e(19184).Z}},entry:"index.tsx"},context:{"./treeData.ts":M,"@rainetian/file-explorer":Z,react:v||(v=e.t(s,2)),"/Users/tianyu/Documents/tianyu/file-explorer/docs-src/example/code/treeData.ts":M},renderOpts:{compile:function(){var j=V()(E()().mark(function A(){var m,F=arguments;return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(135).then(e.bind(e,5135));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,F));case 3:case"end":return r.stop()}},A)}));function C(){return j.apply(this,arguments)}return C}()}},"docs-src-example-demo-full":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,38906))})),asset:{type:"BLOCK",id:"docs-src-example-demo-full",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(69720).Z},"@rainetian/file-explorer":{type:"NPM",value:"0.2.3"},ahooks:{type:"NPM",value:"3.9.6"},react:{type:"NPM",value:"18.3.1"},"./filesData.ts":{type:"FILE",value:e(18463).Z}},entry:"index.tsx"},context:{"./filesData.ts":W,"@rainetian/file-explorer":Z,ahooks:T,react:v||(v=e.t(s,2)),"/Users/tianyu/Documents/tianyu/file-explorer/docs-src/example/code/filesData.ts":W},renderOpts:{compile:function(){var j=V()(E()().mark(function A(){var m,F=arguments;return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(135).then(e.bind(e,5135));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,F));case 3:case"end":return r.stop()}},A)}));function C(){return j.apply(this,arguments)}return C}()}},"docs-src-example-demo-sort":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,47770))})),asset:{type:"BLOCK",id:"docs-src-example-demo-sort",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(63248).Z},"@rainetian/file-explorer":{type:"NPM",value:"0.2.3"},react:{type:"NPM",value:"18.3.1"},"./treeData.ts":{type:"FILE",value:e(19184).Z}},entry:"index.tsx"},context:{"./treeData.ts":M,"@rainetian/file-explorer":Z,react:v||(v=e.t(s,2)),"/Users/tianyu/Documents/tianyu/file-explorer/docs-src/example/code/treeData.ts":M},renderOpts:{compile:function(){var j=V()(E()().mark(function A(){var m,F=arguments;return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(135).then(e.bind(e,5135));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,F));case 3:case"end":return r.stop()}},A)}));function C(){return j.apply(this,arguments)}return C}()}},"docs-src-example-demo-actions":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,83147))})),asset:{type:"BLOCK",id:"docs-src-example-demo-actions",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(14673).Z},"@rainetian/file-explorer":{type:"NPM",value:"0.2.3"},react:{type:"NPM",value:"18.3.1"},"./treeData.ts":{type:"FILE",value:e(19184).Z}},entry:"index.tsx"},context:{"./treeData.ts":M,"@rainetian/file-explorer":Z,react:v||(v=e.t(s,2)),"/Users/tianyu/Documents/tianyu/file-explorer/docs-src/example/code/treeData.ts":M},renderOpts:{compile:function(){var j=V()(E()().mark(function A(){var m,F=arguments;return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(135).then(e.bind(e,5135));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,F));case 3:case"end":return r.stop()}},A)}));function C(){return j.apply(this,arguments)}return C}()}}}},9377:function(b,l,e){e.r(l),e.d(l,{demos:function(){return R}});var v=e(75271),R={}},73173:function(b,l,e){e.r(l),e.d(l,{filesData:function(){return v}});var v={"/public/index.html":"","/src/App.tsx":"","/src/main.tsx":"","/src/style.css":"","/package.json":"","/tsconfig.json":""}},25266:function(b,l,e){e.r(l),e.d(l,{treeData:function(){return v}});var v=[{id:1,parent:0,droppable:!0,text:"Folder 1"},{id:2,parent:1,droppable:!1,text:"File1"},{id:3,parent:1,droppable:!1,text:"File2"},{id:4,parent:0,droppable:!0,text:"Folder 2"},{id:5,parent:4,droppable:!1,text:"File3"},{id:6,parent:0,droppable:!1,text:"File4"}]},4969:function(b,l,e){e.r(l),e.d(l,{AddFileIcon:function(){return C},AddFolderIcon:function(){return A},CollapseIcon:function(){return Ne},DeleteIcon:function(){return m},EditIcon:function(){return F},FileIcon:function(){return Fe},FolderOpenIcon:function(){return K},Icons:function(){return $},RightIcon:function(){return r},default:function(){return Ve},fileExplorerUtils:function(){return Be}});var v=e(26068),R=e.n(v),E=e(15558),B=e.n(E),V=e(48305),s=e.n(V),Z=e(67825),W=e.n(Z),M=e(51831),T=e(75271),t=e(52676),j=["style","name"],C=function(){return(0,t.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"file-text",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m320 512V448h64v128h128v64H544v128h-64V640H352v-64z"})})},A=function(){return(0,t.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"file-text",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m384 416V416h64v128h128v64H544v128h-64V608H352v-64z"})})},m=function(){return(0,t.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"delete",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})})},F=function(){return(0,t.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"edit",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"m199.04 672.64 193.984 112 224-387.968-193.92-112-224 388.032zm-23.872 60.16 32.896 148.288 144.896-45.696zM455.04 229.248l193.92 112 56.704-98.112-193.984-112-56.64 98.112zM104.32 708.8l384-665.024 304.768 175.936L409.152 884.8h.064l-248.448 78.336zm384 254.272v-64h448v64h-448z"})})},K=function(){return(0,t.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"file-text",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896"})})},r=function(){return(0,t.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"right",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})})},Fe=function(){return(0,t.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"file-text",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})})},Oe=function(){return(0,t.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"file-text",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32"})})},Ne=function(){return(0,t.jsxs)("svg",{viewBox:"0 0 1024 1024",className:"icon",focusable:"false",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:[(0,t.jsx)("path",{d:"M908 736H779.5v-72H868V136H340v130.5h-72V96a31.948 31.948 0 0 1 32-32h608a31.948 31.948 0 0 1 32 32v608a31.948 31.948 0 0 1-32 32z"}),(0,t.jsx)("path",{d:"M705.33333334 287.33333333H97.33333334a31.966 31.966 0 0 0-32 32v608a31.966 31.966 0 0 0 32 32h608a31.966 31.966 0 0 0 32-32V319.33333333a31.966 31.966 0 0 0-32-32z m-40 600H137.33333334V359.33333333h528zM253.33333334 597.33333333h296v64H253.33333334z"})]})},be={file:(0,t.jsx)(Fe,{}),folder:(0,t.jsx)(Oe,{}),addFile:(0,t.jsx)(C,{}),addFolder:(0,t.jsx)(A,{}),delete:(0,t.jsx)(m,{}),edit:(0,t.jsx)(F,{}),folderOpen:(0,t.jsx)(K,{}),right:(0,t.jsx)(r,{}),collapse:(0,t.jsx)(Ne,{})},$=function(n){var i=n.style,g=n.name,c=W()(n,j);return(0,t.jsx)("span",R()(R()({},c),{},{style:R()({display:"flex",alignItems:"center"},i),children:be[g]}))},Me=function(n){var i=n.text,g=n.onChange,c=n.onCancel,p=(0,T.useRef)(null),a=(0,T.useState)(i),N=s()(a,2),u=N[0],L=N[1],z=function(I){L(I.target.value)},w=function(){if(u===""&&i===""){c(!0);return}if(u===i||u.trim()===""){c();return}g(u,i==="")},G=function(){if(i===""||i===void 0){c(!0);return}L(i),c()},Q=function(I){I.key==="Enter"?(I.preventDefault(),w()):I.key==="Escape"&&(I.preventDefault(),G())};return(0,T.useEffect)(function(){var D,I;p==null||(D=p.current)===null||D===void 0||D.focus(),p==null||(I=p.current)===null||I===void 0||I.select()},[]),(0,t.jsx)("div",{className:"file-explorer__node-actions file-explorer__inputWrapper ",onClick:function(I){return I.stopPropagation()},children:(0,t.jsx)("input",{ref:p,value:u,onChange:z,onBlur:w,onKeyDown:Q})})};function Te(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(h){var n=Math.random()*16|0,i=h==="x"?n:n&3|8;return i.toString(16)}).replace(/-/g,"")}var Se=function(n,i){var g;return n.forEach(function(c){var p=i.find(function(a){return a.id===c.id});if(c.parent!==(p==null?void 0:p.parent))return g=c,null}),g};function Le(h){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=[],g={};for(var c in h){for(var p,a=c.startsWith("/")?c.slice(1).split("/"):c.split("/"),N=n,u=0;u<a.length-1;u++){var L=a.slice(0,u+1).join("/");if(!g[L]){var z=i.length+1;g[L]=z,i.push({id:z,parent:N,droppable:!0,text:a[u]})}N=g[L]}var w=a.pop(),G=i.length+1;i.push({id:G,parent:N,droppable:((p=h[c])===null||p===void 0?void 0:p.code)==="//#folder#//",text:w,content:h[c]})}return i}function Re(h){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i={};return h.forEach(function(g){if(!g.droppable){for(var c="",p=g.parent;p!==n;){var a=h.find(function(N){return N.id===p});c=a.text+"/"+c,p=a.parent}c===""?c=g.text:c+=g.text,i[c]=g.content}}),i}var te="_draft_id_",je={md:"markdown",js:"javascript",ts:"typescript",tsx:"typescript",jsx:"javascript",css:"css3",html:"html-5",jpeg:"jpg",docx:"doc",xlsx:"xls",pptx:"ppt",mp4:"video",webp:"image",vue:"file"},Pe=["txt","json","xml","csv","vue","png","jpg","jpeg","gif","mp3","avi","pdf","zip","rar"],Ue=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=i.style,c=g===void 0?"color":g,p=i.size,a=p===void 0?48:p,N=i.color,u=N===void 0?"000000":N;if(!n||!je[n]&&!Pe.includes(n))return"";var L=je[n]||n;return"https://img.icons8.com/".concat(c,"/").concat(a,"/").concat(u,"/").concat(L,".png")},we=function(n){var i=n.dragOverAutoExpand,g=n.clickRowAutoExpand,c=n.isSelected,p=n.isOpen,a=p===void 0?!1:p,N=n.showActions,u=N===void 0?!0:N,L=n.titleRender,z=n.switcherIcon,w=n.fileIcon,G=n.actions,Q=n.node,D=Q.id,I=Q.droppable,Y=Q.text,k=(0,T.useState)(!1),re=s()(k,2),xe=re[0],q=re[1],ae=n.depth*24,he=(0,T.useState)(!1),de=s()(he,2),se=de[0],ce=de[1],ue=xe||Y==="",ee=function(f){f.stopPropagation(),n.onToggle(D)},ge=(0,M.t0)(D,a,n.onToggle),Ie=i?ge:{},pe=function(f){f.stopPropagation(),q(!0)},ne=function(f){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(q(!1),S){n.onTextChange("_draft_id_",f);return}n.onTextChange(D,f)},oe=function(){var f,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;S&&n.onRemove(D,!0),q(!1),(f=n.onCancelInput)===null||f===void 0||f.call(n)},ye=function(f){f.stopPropagation(),n.onCreate({id:te,text:"",parent:D,droppable:!1},!0)},fe=function(f){f.stopPropagation(),n.onCreate({id:te,text:"",parent:D,droppable:!0},!0)},le=function(f){var S;g&&ee(f),(S=n.onSelect)===null||S===void 0||S.call(n,n.node)},ve=function(f){f.stopPropagation(),n.onRemove(D)},De=function(f){var S=f.name,ie=f.node;if(typeof w=="boolean"&&!w)return(0,t.jsx)("div",{style:{marginLeft:-4}});if(w===void 0||w===!0)return(0,t.jsx)("div",{className:"file-explorer__node-icon","data-name":S,children:I?(0,t.jsx)($,{name:a?"folderOpen":"folder"}):(0,t.jsx)($,{name:"file"})});var Ce=w("folderOpen",ie)||(0,t.jsx)($,{name:"folderOpen"}),Ae=w("folder",ie)||(0,t.jsx)($,{name:"folder"}),O=w((S==null?void 0:S.split(".").pop())||"file",ie)||(0,t.jsx)($,{name:"file"});return(0,t.jsx)("div",{className:"file-explorer__node-icon","data-name":S,children:I?a?Ce:Ae:O})},X={addFile:(0,t.jsx)("span",{onClick:ye,title:"Add file",children:(0,t.jsx)($,{name:"addFile"})}),addFolder:(0,t.jsx)("span",{onClick:fe,title:"Add folder",children:(0,t.jsx)($,{name:"addFolder"})}),remove:(0,t.jsx)("span",{onClick:ve,title:"Remove",children:(0,t.jsx)($,{name:"delete"})}),edit:(0,t.jsx)("span",{onClick:pe,title:"Edit",children:(0,t.jsx)($,{name:"edit"})})},Ee=function(){return(0,t.jsxs)("div",{className:"file-explorer__node-actions",children:[I?(0,t.jsxs)(t.Fragment,{children:[X.addFile,X.addFolder]}):null,X.remove,X.edit]})},me=function(){var f=z&&typeof z=="function";return(0,t.jsx)("div",{className:"file-explorer__node-expand-icon-wrapper ".concat(I?"":"disabled"),onClick:ee,children:I&&(f?z(a):(0,t.jsx)("div",{className:"file-explorer__node-expand-icon ".concat(a?"isOpen":""),children:z||(0,t.jsx)($,{name:"right",style:{fontSize:12}})}))})};return(0,T.useEffect)(function(){q(n.showInput||!1)},[n.showInput]),(0,t.jsxs)("div",R()(R()({className:"file-explorer__node ".concat(se?"file-explorer__node--hover":""," ").concat(c?"file-explorer__node--selected":""),style:{paddingInlineStart:ae}},Ie),{},{onMouseEnter:function(){return ce(!0)},onMouseLeave:function(){return ce(!1)},onClick:le,children:[me(),De({name:Y,node:n.node}),(0,t.jsxs)("div",{className:"file-explorer__node-content",children:[ue?(0,t.jsx)(Me,{text:Y,onChange:ne,onCancel:oe}):(0,t.jsx)("span",{className:"file-explorer__node-text",children:L?L(n.node):Y}),se&&!ue&&u?G?(0,t.jsx)("div",{className:"file-explorer__node-actions",onClick:function(f){return f.stopPropagation()},children:G(n.node,{remove:X.remove,edit:X.edit})}):Ee():null]})]}))},ze=function(n){var i=(n.depth+1)*24;return(0,t.jsx)("div",{className:"file-explorer__placeholder",style:{left:i}})},He=["fileExplorerRef","rootId","data","onDrop","onChange","onSelect","dragOverAutoExpand","clickRowAutoExpand","enableSelect","enableSort","showActions","allowRepeatText","titleRender","actions","switcherIcon","fileIcon","theme","selectedId"],$e=function(n){var i=(0,T.useRef)(null),g=n.fileExplorerRef,c=n.rootId,p=c===void 0?0:c,a=n.data,N=n.onDrop,u=n.onChange,L=n.onSelect,z=n.dragOverAutoExpand,w=z===void 0?!1:z,G=n.clickRowAutoExpand,Q=G===void 0?!0:G,D=n.enableSelect,I=D===void 0?!0:D,Y=n.enableSort,k=Y===void 0?!0:Y,re=n.showActions,xe=re===void 0?!1:re,q=n.allowRepeatText,ae=q===void 0?!0:q,he=n.titleRender,de=n.actions,se=n.switcherIcon,ce=n.fileIcon,ue=n.theme,ee=n.selectedId,ge=W()(n,He),Ie=(0,T.useState)(a),pe=s()(Ie,2),ne=pe[0],oe=pe[1],ye=(0,T.useState)(),fe=s()(ye,2),le=fe[0],ve=fe[1],De=(0,T.useState)(null),X=s()(De,2),Ee=X[0],me=X[1],P=function(d,x){N==null||N(d,x);var o=Se(a,d),y=Se(d,a);if(!ae){if(!y){u==null||u(d,{action:"sort",oldTree:B()(a),oldNode:o});return}var J=a.find(function(U){return U.parent===(y==null?void 0:y.parent)&&U.text===o.text&&U.droppable===o.droppable});if(J)return}u==null||u(d,{action:"drop",oldTree:B()(a),oldNode:o,newNode:y})},f=function(d,x){var o=[d].concat(B()((0,M.mD)(a,d).map(function(U){return U.id}))),y=a.filter(function(U){return!o.includes(U.id)});if(x){oe(y);return}var J=a.find(function(U){return U.id===d});u==null||u(y,{action:"remove",oldTree:B()(a),oldNode:J})},S=function(d,x){var o;(o=i.current)===null||o===void 0||o.open(d.parent);var y=[].concat(B()(a),[d]);if(x){oe(y);return}if(!ae){var J=a.find(function(_){return _.parent===d.parent&&_.text===d.text&&_.droppable===d.droppable});if(J){f(d.id,!0);return}}var U=R()(R()({},d),{},{id:Te()});y=[].concat(B()(a),[U]),u==null||u(y,{action:"create",oldTree:B()(a),newNode:U})},ie=function(d,x){if(d===te){var o=ne.find(function(H){return H.id===d});S(R()(R()({},o),{},{id:"",text:x}));return}if(!ae){var y=a.find(function(H){return H.id===d}),J=a.find(function(H){return H.parent===y.parent&&H.text===x&&H.droppable===y.droppable});if(J)return}var U,_,Ze=a.map(function(H){return H.id===d?(U=H,_=R()(R()({},H),{},{text:x}),_):H});u==null||u(Ze,{action:"update",oldTree:B()(a),oldNode:U,newNode:_})},Ce=function(d){I&&(ve(d),L==null||L(d))},Ae=function(){me(null)};return(0,T.useImperativeHandle)(g,function(){var O,d;return{addFile:function(o){return S({id:te,text:"",parent:o!=null?o:p,droppable:!1},!0)},addFolder:function(o){return S({id:te,text:"",parent:o!=null?o:p,droppable:!0},!0)},remove:function(o){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return f(o,y)},edit:function(o){me(o)},getFiles:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Re(ne,o)},getData:function(){return ne},openAll:function(){var o;return(o=i.current)===null||o===void 0?void 0:o.openAll()},closeAll:function(){var o;return(o=i.current)===null||o===void 0?void 0:o.closeAll()},open:(O=i.current)===null||O===void 0?void 0:O.open,close:(d=i.current)===null||d===void 0?void 0:d.close}}),(0,T.useEffect)(function(){oe(a)},[a]),(0,T.useEffect)(function(){if(a&&ee!==void 0){var O=a.find(function(d){return d.id===ee});O&&I&&ve(O)}},[ee]),(0,t.jsx)("div",{"data-id":"file-explorer","data-theme":ue,children:(0,t.jsx)(M.WG,{backend:M.PD,context:window,children:(0,t.jsx)(M.mp,R()(R()({ref:i,tree:ne,rootId:p,render:function(d,x){var o=x.depth,y=x.isOpen,J=x.onToggle;return(0,t.jsx)(we,{node:d,depth:o,isOpen:y,switcherIcon:se,isSelected:d.id===(le==null?void 0:le.id),onToggle:J,onSelect:Ce,onRemove:f,onTextChange:ie,onCreate:S,onCancelInput:Ae,dragOverAutoExpand:w,clickRowAutoExpand:Q,titleRender:he,showActions:xe,showInput:d.id===Ee,actions:de,fileIcon:ce})},onDrop:P,classes:{root:"file-explorer",draggingSource:k?"file-explorer__draggingSource":"",dropTarget:k?"file-explorer__dropTarget":"",placeholder:k?"":"file-explorer__placeholderContainer"}},k?void 0:{sort:k,insertDroppableFirst:!1,dropTargetOffset:5,placeholderRender:function(d,x){var o=x.depth;return(0,t.jsx)(ze,{depth:o})},canDrop:function(d,x){var o=x.dragSource,y=x.dropTargetId;if((o==null?void 0:o.parent)===y)return!0}}),ge))})})},Be={files2tree:Le,tree2files:Re,getFileIcon8Url:Ue},Ve=$e},79312:function(b,l,e){e.r(l),e.d(l,{texts:function(){return v}});const v=[{value:"\u4E00\u4E2A\u6811\u5F62\u6587\u4EF6\u6D4F\u89C8\u5668\u7EC4\u4EF6\uFF0C\u53EF\u62D6\u62FD\u53EF\u7F16\u8F91",paraId:0,tocIndex:0},{value:"\u7EC4\u4EF6\u6570\u636E\u683C\u5F0F\u4E3A:",paraId:1},{value:`const treeData = [
  {
    id: 1,
    parent: 0,
    droppable: true,
    text: 'Folder 1',
  },
  {
    id: 2,
    parent: 1,
    droppable: false,
    text: 'File1-1',
  },
]
`,paraId:2},{value:"\u5982\u679C\u662F\u6587\u4EF6\u5939\u5BF9\u8C61\u683C\u5F0F\uFF08\u5982\u4E0B\u793A\u4F8B\uFF09\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",paraId:3},{value:"fileExplorerUtils.files2tree(treeData)",paraId:3},{value:" \u8F6C\u6362",paraId:3},{value:`const filesData = {
  '/public/index.html': '',
  '/src/App.tsx': '',
  '/src/main.tsx': '',
  '/src/style.css': '',
  '/package.json': '',
  '/tsconfig.json': '',
}
`,paraId:4},{value:"fileExplorerUtils",paraId:5},{value:" \u8FD8\u63D0\u4F9B\u4E86\u6811\u5F62\u6570\u636E\u548C\u6587\u4EF6\u5BF9\u8C61\u7684\u76F8\u4E92\u8F6C\u6362\u65B9\u6CD5\uFF0C",paraId:5},{value:"fileExplorerUtils.tree2files(filesData)",paraId:5},{value:"\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u9009\u62E9\u4F7F\u7528\uFF0C\u4E0B\u9762\u793A\u4F8B\u4F7F\u7528tree\u683C\u5F0F\u6570\u636E",paraId:6}]},95967:function(b,l,e){e.r(l),e.d(l,{texts:function(){return v}});const v=[{value:"index",paraId:0}]},14673:function(b,l){l.Z=`import FileExplorer, { INode } from '@rainetian/file-explorer'
import React, { useState } from 'react'

import { treeData } from './treeData'

const App = () => {
  const [data, setData] = useState<INode[]>(treeData)

  const handleChange = (newData: INode[]) => {
    setData(newData)
  }

  return (
    <div style={{ width: 250, border: '1px solid #ccc', padding: 12 }}>
      <FileExplorer
        data={data}
        onChange={handleChange}
        initialOpen
        showActions
        actions={(node: INode, { remove, edit }) => (
          <>
            {remove}
            <button onClick={() => alert('remove')}>x</button>
            {edit}
          </>
        )}
      />
    </div>
  )
}
export default App
`},3921:function(b,l){l.Z=`import FileExplorer, { INode, fileExplorerUtils } from '@rainetian/file-explorer'
import React, { useState } from 'react'

import { filesData } from './filesData'

const App = () => {
  const [data, setData] = useState<INode[]>(fileExplorerUtils.files2tree(filesData))

  const handleChange = (newData: INode[]) => {
    setData(newData)
  }

  return (
    <div style={{ width: 250, border: '1px solid #ccc', padding: 12 }}>
      <FileExplorer data={data} onChange={handleChange} initialOpen />
    </div>
  )
}
export default App
`},17478:function(b,l){l.Z=`import FileExplorer, { INode } from '@rainetian/file-explorer'
import React from 'react'

import { treeData } from './treeData'

const App = () => {
  const Title = ({ node }: { node: INode }) => {
    return <span style={{ color: 'blue' }}>#{node.text}\u{1F60E}</span>
  }

  return (
    <FileExplorer
      data={treeData}
      titleRender={(node: INode) => <Title node={node} />}
      switcherIcon={<span>\u25B6\uFE0F</span>}
      fileIcon={false}
    />
  )
}
export default App
`},1956:function(b,l){l.Z=`import FileExplorer from '@rainetian/file-explorer'
import React from 'react'

import { treeData } from './treeData'

const App = () => {
  return <FileExplorer data={treeData} canDrag={() => false} initialOpen enableSelect={false} />
}
export default App
`},41684:function(b,l){l.Z=`import FileExplorer, { IFileExplorerMethods, INode } from '@rainetian/file-explorer'
import { IFileExplorerChangeParams } from 'file-explorer/dist'
import React, { useRef, useState } from 'react'

import { treeData } from './treeData'

const App = () => {
  const fileExplorerRef = useRef<IFileExplorerMethods>(null)
  const [data, setData] = useState<INode[]>(treeData)

  const handleChange = (
    newTree: INode[],
    { action, oldTree, oldNode, newNode }: IFileExplorerChangeParams
  ) => {
    console.log(action, oldTree, oldNode, newNode)
    setData(newTree)
  }

  return (
    <>
      <div style={{ display: 'flex', gap: 8, marginBottom: 8, flexWrap: 'wrap' }}>
        <button onClick={() => fileExplorerRef.current?.addFile()}>add file</button>
        <button onClick={() => fileExplorerRef.current?.addFolder()}>add folder</button>
        <button onClick={() => fileExplorerRef.current?.addFile(1)}>add file in Folder1</button>
        <button onClick={() => fileExplorerRef.current?.closeAll()}>closeAll</button>
        <button onClick={() => fileExplorerRef.current?.openAll()}>openAll</button>
        <button onClick={() => console.log(fileExplorerRef.current?.getFiles())}>getFiles</button>
        <button onClick={() => console.log(fileExplorerRef.current?.getData())}>getData</button>
        <button onClick={() => fileExplorerRef.current?.edit(2)}>edit File1</button>
        <button onClick={() => fileExplorerRef.current?.remove(3, false)}>remove File2</button>
        <button onClick={() => fileExplorerRef.current?.open(1)}>open Folder1</button>
        <button onClick={() => fileExplorerRef.current?.close(1)}>close Folder1</button>
      </div>
      <div style={{ width: 300, border: '1px solid #ccc', padding: 12 }}>
        <FileExplorer
          fileExplorerRef={fileExplorerRef}
          data={data}
          onChange={handleChange}
          onSelect={(node: INode) => console.log(node)}
          showActions
          initialOpen
        />
      </div>
    </>
  )
}

export default App
`},18463:function(b,l){l.Z=`export const filesData = {
  '/public/index.html': '',
  '/src/App.tsx': '',
  '/src/main.tsx': '',
  '/src/style.css': '',
  '/package.json': '',
  '/tsconfig.json': '',
}
`},69720:function(b,l){l.Z=`import FileExplorer, { fileExplorerUtils, INode } from '@rainetian/file-explorer'
import { useSetState } from 'ahooks'
import React, { useState } from 'react'

import { filesData } from './filesData'

const App = () => {
  const [data, setData] = useState<INode[]>(fileExplorerUtils.files2tree(filesData))
  const [selectedNode, setSelectedNode] = useState<INode | null>(null)

  const [options, setOptions] = useSetState<any>({
    initialOpen: false,
    clickRowAutoExpand: true,
    dragOverAutoExpand: false,
    enableSelect: true,
    showActions: true,
    fileIcon: true,
    allowRepeatText: false,
  })

  const handleChange = (newData: INode[]) => {
    setData(newData)
  }

  const fileIcon = (fileSuffix: string) => {
    const iconMap: Record<string, string> = {
      js: 'https://img.icons8.com/color/48/000000/javascript.png',
      css: 'https://img.icons8.com/color/48/000000/css3.png',
      html: 'https://img.icons8.com/color/48/000000/html-5.png',
      json: 'https://img.icons8.com/color/48/000000/json.png',
      tsx: 'https://img.icons8.com/color/48/000000/typescript.png',
    }
    const iconSrc = iconMap[fileSuffix]
    return iconSrc ? <img src={iconSrc} /> : null
  }

  return (
    <>
      <div style={{ display: 'flex' }}>
        <div style={{ width: 250, border: '1px solid #ccc', padding: 12, flexShrink: 0 }}>
          <FileExplorer
            data={data}
            onChange={handleChange}
            onSelect={(node: INode) => setSelectedNode(node)}
            {...options}
          />
        </div>
        <div style={{ border: '1px solid #ccc', padding: 12, width: '100%' }}>
          <p>
            \u9ED8\u8BA4\u5168\u90E8\u5C55\u5F00\uFF1A
            <label>
              <input
                type='checkbox'
                checked={options.initialOpen}
                onChange={(e) =>
                  setOptions({
                    initialOpen: e.target.checked,
                  })
                }
              />
              initialOpen
            </label>
          </p>

          <p>
            \u70B9\u51FB\u884C\u65F6\u662F\u5426\u81EA\u52A8\u5C55\u5F00\uFF1A
            <label>
              <input
                type='checkbox'
                checked={options.clickRowAutoExpand}
                onChange={(e) =>
                  setOptions({
                    clickRowAutoExpand: e.target.checked,
                  })
                }
              />
              clickRowAutoExpand
            </label>
          </p>

          <p>
            \u62D6\u62FD\u5230\u6587\u4EF6\u5939\u4E0A\u662F\u5426\u81EA\u52A8\u5C55\u5F00\uFF1A
            <label>
              <input
                type='checkbox'
                checked={options.dragOverAutoExpand}
                onChange={(e) =>
                  setOptions({
                    dragOverAutoExpand: e.target.checked,
                  })
                }
              />
              dragOverAutoExpand
            </label>
          </p>

          <p>
            \u662F\u5426\u5141\u8BB8\u9009\u4E2D\uFF1A
            <label>
              <input
                type='checkbox'
                checked={options.enableSelect}
                onChange={(e) =>
                  setOptions({
                    enableSelect: e.target.checked,
                  })
                }
              />
              enableSelect
            </label>
          </p>

          <p>
            \u662F\u5426\u5C55\u793A\u64CD\u4F5C\u6309\u94AE\uFF1A
            <label>
              <input
                type='checkbox'
                checked={options.showActions}
                onChange={(e) =>
                  setOptions({
                    showActions: e.target.checked,
                  })
                }
              />
              showActions
            </label>
          </p>

          <p>
            \u662F\u5426\u5C55\u793A\u64CD\u4F5C\u6309\u94AE\uFF1A
            <label>
              <input
                type='checkbox'
                checked={typeof options.fileIcon === 'boolean' && options.fileIcon}
                onChange={(e) =>
                  setOptions({
                    fileIcon: e.target.checked,
                  })
                }
              />
              fileIcon
            </label>
          </p>

          <p>
            \u9009\u4E2D\u7684\u8282\u70B9\uFF1A
            {JSON.stringify(selectedNode || '')}
          </p>

          <p>
            \u662F\u5426\u5141\u8BB8\u91CD\u590D\u540D\u79F0\uFF1A
            <label>
              <input
                type='checkbox'
                checked={options.allowRepeatText}
                onChange={(e) =>
                  setOptions({
                    allowRepeatText: e.target.checked,
                  })
                }
              />
              allowRepeatText
            </label>
          </p>

          <p>
            \u81EA\u5B9A\u4E49\u6587\u4EF6\u56FE\u6807\uFF1A
            <label>
              <input
                type='checkbox'
                checked={typeof options.fileIcon === 'function'}
                onChange={(e) => {
                  if (e.target.checked) {
                    console.log(typeof fileIcon)
                    setOptions({
                      fileIcon,
                    })
                  } else {
                    setOptions({
                      fileIcon: true,
                    })
                  }
                }}
              />
              \u56FE\u6807
            </label>
          </p>
        </div>
      </div>
    </>
  )
}
export default App
`},67402:function(b,l){l.Z=`import FileExplorer, { INode, fileExplorerUtils } from '@rainetian/file-explorer'
import React, { useState } from 'react'

import { filesData } from './filesData'

const App = () => {
  const [data, setData] = useState<INode[]>(fileExplorerUtils.files2tree(filesData))

  const handleChange = (newData: INode[]) => {
    setData(newData)
  }

  const fileIcon = (fileSuffix: string) => {
    // \u63D0\u4F9B\u4E86\u4E00\u4E2A\u83B7\u53D6icon8 \u56FE\u6807url\u7684\u65B9\u6CD5\uFF0C\u53EF\u6839\u636E\u6587\u4EF6\u540E\u7F00\u81EA\u5B9A\u4E49\u56FE\u6807
    const iconSrc = fileExplorerUtils.getFileIcon8Url(fileSuffix)
    return iconSrc ? <img src={iconSrc} /> : null
  }

  return (
    <div style={{ width: 250, border: '1px solid #ccc', padding: 12 }}>
      <FileExplorer data={data} onChange={handleChange} initialOpen fileIcon={fileIcon} />
    </div>
  )
}
export default App
`},63248:function(b,l){l.Z=`import FileExplorer, { INode } from '@rainetian/file-explorer'
import React, { useState } from 'react'

import { treeData } from './treeData'

const App = () => {
  const [data, setData] = useState<INode[]>(treeData)

  const handleChange = (newData: INode[], { action }) => {
    console.log(action)
    setData(newData)
  }

  return (
    <div style={{ width: 250, border: '1px solid #ccc', padding: 12 }}>
      <FileExplorer data={data} initialOpen enableSort={false} allowRepeatText={false} />
    </div>
  )
}
export default App
`},19184:function(b,l){l.Z=`export const treeData = [
  {
    id: 1,
    parent: 0,
    droppable: true,
    text: 'Folder 1',
  },
  {
    id: 2,
    parent: 1,
    droppable: false,
    text: 'File1',
  },
  {
    id: 3,
    parent: 1,
    droppable: false,
    text: 'File2',
  },
  {
    id: 4,
    parent: 0,
    droppable: true,
    text: 'Folder 2',
  },
  {
    id: 5,
    parent: 4,
    droppable: false,
    text: 'File3',
  },
  {
    id: 6,
    parent: 0,
    droppable: false,
    text: 'File4',
  },
]
`}}]);
